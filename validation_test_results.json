[
  {
    "test_name": "External Case 1",
    "passed": false,
    "status_match": false,
    "field_match": true,
    "expected_status": "PASS",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 2: Missing Total Amount",
    "passed": true,
    "status_match": true,
    "field_match": true,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "total_amount"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 3: Calculation Mismatch",
    "passed": true,
    "status_match": true,
    "field_match": true,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "total_amount"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 4: Invalid Date Format",
    "passed": true,
    "status_match": true,
    "field_match": true,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "date"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 5: Line Items Don't Sum",
    "passed": false,
    "status_match": true,
    "field_match": false,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "subtotal",
      "line_items"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 6: Future Date",
    "passed": true,
    "status_match": true,
    "field_match": true,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "date"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 7: Negative Amounts",
    "passed": false,
    "status_match": true,
    "field_match": false,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "tax_amount"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 8: Invalid Card Number",
    "passed": false,
    "status_match": true,
    "field_match": false,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "card_last_four"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 9: Missing Vendor Name",
    "passed": false,
    "status_match": true,
    "field_match": false,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "vendor_name"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 10: Low Confidence Score",
    "passed": false,
    "status_match": true,
    "field_match": false,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "confidence_score"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 11: Invalid Currency Code",
    "passed": false,
    "status_match": true,
    "field_match": false,
    "expected_status": "FAIL",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [
      "currency"
    ],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  },
  {
    "test_name": "Test 12: Large Expense Amount",
    "passed": false,
    "status_match": false,
    "field_match": true,
    "expected_status": "PASS",
    "actual_status": "FAIL",
    "actual_status_raw": "needs_correction",
    "expected_error_fields": [],
    "actual_error_fields": [
      "date",
      "subtotal",
      "total_amount"
    ],
    "errors": [
      {
        "field": "date",
        "issue": "Date is in the future",
        "severity": "CRITICAL",
        "current_value": "2024-12-01",
        "expected": "Date must not be after 2025-12-05"
      },
      {
        "field": "subtotal",
        "issue": "Subtotal does not match sum of line items",
        "severity": "CRITICAL",
        "current_value": 45000.0,
        "expected": "Sum of line items totals should match subtotal"
      },
      {
        "field": "total_amount",
        "issue": "Total amount calculation failed",
        "severity": "CRITICAL",
        "current_value": 49050.0,
        "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
      }
    ],
    "warnings": [
      {
        "field": "vendor_address",
        "issue": "Address formatting may be inconsistent",
        "recommendation": "Verify address formatting against vendor standards"
      },
      {
        "field": "payment_method",
        "issue": "Payment method is 'check', but card_last_four is null",
        "recommendation": "Ensure payment method details are complete"
      }
    ],
    "data_quality_score": 85,
    "quality_summary": {
      "total_errors": 3,
      "critical_errors": 3,
      "total_warnings": 2,
      "fields_corrected": 0,
      "data_completeness_score": 90,
      "calculation_accuracy": "FAILED"
    },
    "full_result": {
      "success": false,
      "status": "needs_correction",
      "validated_data": {
        "vendor_name": "Electronics Wholesale",
        "vendor_address": "500 Commerce Dr, Miami FL 33101",
        "date": "2024-12-01",
        "time": "11:30",
        "currency": "USD",
        "subtotal": 45000.0,
        "tax_amount": 4050.0,
        "tip_amount": null,
        "total_amount": 49050.0,
        "payment_method": "check",
        "card_last_four": null,
        "line_items": [
          {
            "description": "Laptops (Bulk Order)",
            "quantity": 50,
            "unit_price": 900.0,
            "total": 45000.0
          }
        ],
        "expense_category": "supplies",
        "confidence_score": 95,
        "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
        "notes": "Large bulk purchase"
      },
      "validation_errors": [
        "Date is in the future",
        "Subtotal does not match sum of line items",
        "Total amount calculation failed"
      ],
      "validation_warnings": [
        "Address formatting may be inconsistent",
        "Payment method is 'check', but card_last_four is null"
      ],
      "validation_details": {
        "validation_status": "needs_correction",
        "is_valid": false,
        "data_quality_score": 85,
        "validation_errors": [
          {
            "field": "date",
            "issue": "Date is in the future",
            "severity": "CRITICAL",
            "current_value": "2024-12-01",
            "expected": "Date must not be after 2025-12-05"
          },
          {
            "field": "subtotal",
            "issue": "Subtotal does not match sum of line items",
            "severity": "CRITICAL",
            "current_value": 45000.0,
            "expected": "Sum of line items totals should match subtotal"
          },
          {
            "field": "total_amount",
            "issue": "Total amount calculation failed",
            "severity": "CRITICAL",
            "current_value": 49050.0,
            "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
          }
        ],
        "validation_warnings": [
          {
            "field": "vendor_address",
            "issue": "Address formatting may be inconsistent",
            "recommendation": "Verify address formatting against vendor standards"
          },
          {
            "field": "payment_method",
            "issue": "Payment method is 'check', but card_last_four is null",
            "recommendation": "Ensure payment method details are complete"
          }
        ],
        "corrected_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "corrections_made": [
          {
            "field": "date",
            "original_value": "2024-12-01",
            "corrected_value": "2024-12-01",
            "reason": "Date is in the future but cannot be corrected without user input"
          },
          {
            "field": "subtotal",
            "original_value": 45000.0,
            "corrected_value": 45000.0,
            "reason": "Subtotal matches line items but calculation discrepancy flagged"
          },
          {
            "field": "total_amount",
            "original_value": 49050.0,
            "corrected_value": 49050.0,
            "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
          }
        ],
        "validation_summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        },
        "data_quality_notes": [
          "Date is in the future, which violates validation rules.",
          "Subtotal and total amount calculations failed verification.",
          "Vendor address formatting appears consistent but should be reviewed for accuracy.",
          "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
        ]
      },
      "data_quality": {
        "score": 85,
        "summary": {
          "total_errors": 3,
          "critical_errors": 3,
          "total_warnings": 2,
          "fields_corrected": 0,
          "data_completeness_score": 90,
          "calculation_accuracy": "FAILED"
        }
      }
    }
  }
]