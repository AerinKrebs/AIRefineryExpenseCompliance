{
  "entries": [
    {
      "timestamp": "2025-12-05T09:33:41.929404",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 19.9,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Starbucks Coffee",
          "vendor_address": "123 Main St, Seattle WA 98101",
          "date": "2024-12-01",
          "time": "14:30",
          "currency": "USD",
          "subtotal": 15.5,
          "tax_amount": 1.4,
          "tip_amount": 3.0,
          "total_amount": 19.9,
          "payment_method": "credit",
          "card_last_four": "4242",
          "line_items": [
            {
              "description": "Grande Latte",
              "quantity": 2,
              "unit_price": 5.75,
              "total": 11.5
            },
            {
              "description": "Blueberry Muffin",
              "quantity": 1,
              "unit_price": 4.0,
              "total": 4.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 95,
          "raw_text_extracted": "STARBUCKS\n123 Main St\nSeattle WA 98101\n\nGrande Latte x2 $11.50\nBlueberry Muffin x1 $4.00\n\nSubtotal: $15.50\nTax: $1.40\nTip: $3.00\nTotal: $19.90\n\nVisa ****4242",
          "notes": "Clear receipt, all fields legible"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:41.930862",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": null,
        "category": "supplies",
        "issues": [
          "Incomplete reporting: date or total amount missing or unparsed"
        ],
        "flags": [
          "incomplete_reporting"
        ],
        "suggested_actions": [
          "Provide the transaction date and total amount"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Bob's Hardware",
          "vendor_address": "456 Oak Ave, Portland OR 97201",
          "date": "2024-11-28",
          "time": null,
          "currency": "USD",
          "subtotal": 45.99,
          "tax_amount": 4.14,
          "tip_amount": null,
          "total_amount": null,
          "payment_method": "debit",
          "card_last_four": "8765",
          "line_items": [
            {
              "description": "Paint Roller Set",
              "quantity": 1,
              "unit_price": 25.99,
              "total": 25.99
            },
            {
              "description": "Masking Tape",
              "quantity": 2,
              "unit_price": 10.0,
              "total": 20.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 85,
          "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
          "notes": "Bottom of receipt cut off"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:41.952859",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 42.0,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Pizza Palace",
          "vendor_address": "789 Broadway, New York NY 10003",
          "date": "2024-12-02",
          "time": "19:45",
          "currency": "USD",
          "subtotal": 30.0,
          "tax_amount": 2.7,
          "tip_amount": 5.0,
          "total_amount": 42.0,
          "payment_method": "credit",
          "card_last_four": "1234",
          "line_items": [
            {
              "description": "Large Pepperoni Pizza",
              "quantity": 1,
              "unit_price": 18.0,
              "total": 18.0
            },
            {
              "description": "Caesar Salad",
              "quantity": 1,
              "unit_price": 12.0,
              "total": 12.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
          "notes": "Receipt slightly blurry"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:41.967663",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 136.25,
        "category": "supplies",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Office Supplies Co",
          "vendor_address": "321 Market St, San Francisco CA 94102",
          "date": "12/03/24",
          "time": "10:15",
          "currency": "USD",
          "subtotal": 125.0,
          "tax_amount": 11.25,
          "tip_amount": null,
          "total_amount": 136.25,
          "payment_method": "credit",
          "card_last_four": "9999",
          "line_items": [
            {
              "description": "Paper Reams (10)",
              "quantity": 10,
              "unit_price": 8.5,
              "total": 85.0
            },
            {
              "description": "Stapler Heavy Duty",
              "quantity": 2,
              "unit_price": 20.0,
              "total": 40.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 90,
          "raw_text_extracted": "Office Supplies Co\n321 Market St SF CA\n12/03/24 10:15 AM\n\nPaper Reams x10 $85.00\nHeavy Duty Stapler x2 $40.00\n\nSubtotal $125.00\nTax $11.25\nTotal $136.25",
          "notes": "Clean scan"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:41.993586",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 323.99,
        "category": "supplies",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Tech Store",
          "vendor_address": "555 Tech Blvd, Austin TX 78701",
          "date": "2024-11-30",
          "time": "16:20",
          "currency": "USD",
          "subtotal": 299.99,
          "tax_amount": 24.0,
          "tip_amount": null,
          "total_amount": 323.99,
          "payment_method": "credit",
          "card_last_four": "5555",
          "line_items": [
            {
              "description": "Wireless Mouse",
              "quantity": 1,
              "unit_price": 49.99,
              "total": 49.99
            },
            {
              "description": "USB-C Cable",
              "quantity": 2,
              "unit_price": 19.99,
              "total": 39.98
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 75,
          "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
          "notes": "Middle section of receipt torn/unreadable"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:42.024046",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 71.5,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Restaurant XYZ",
          "vendor_address": "100 Food St, Chicago IL 60601",
          "date": "2026-01-04",
          "time": "12:00",
          "currency": "USD",
          "subtotal": 55.0,
          "tax_amount": 5.5,
          "tip_amount": 11.0,
          "total_amount": 71.5,
          "payment_method": "credit",
          "card_last_four": "7777",
          "line_items": [
            {
              "description": "Lunch Special",
              "quantity": 2,
              "unit_price": 27.5,
              "total": 55.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 85,
          "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
          "notes": "Date seems incorrect"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:42.052005",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 45.0,
        "category": "travel",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Gas Station",
          "vendor_address": "999 Highway 1, Los Angeles CA 90001",
          "date": "2024-12-01",
          "time": "08:30",
          "currency": "USD",
          "subtotal": 50.0,
          "tax_amount": -5.0,
          "tip_amount": null,
          "total_amount": 45.0,
          "payment_method": "credit",
          "card_last_four": "3333",
          "line_items": [
            {
              "description": "Gasoline",
              "quantity": 12.5,
              "unit_price": 4.0,
              "total": 50.0
            }
          ],
          "expense_category": "travel",
          "confidence_score": 70,
          "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
          "notes": "OCR may have misread refund as negative"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:42.080878",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 95.38,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Grocery Store",
          "vendor_address": "200 Main St, Denver CO 80201",
          "date": "2024-12-03",
          "time": "17:00",
          "currency": "USD",
          "subtotal": 87.5,
          "tax_amount": 7.88,
          "tip_amount": null,
          "total_amount": 95.38,
          "payment_method": "credit",
          "card_last_four": "12",
          "line_items": [
            {
              "description": "Groceries",
              "quantity": 1,
              "unit_price": 87.5,
              "total": 87.5
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
          "notes": "Card number partially readable"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:42.110153",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 27.25,
        "category": "other",
        "issues": [
          "Missing required fields: vendor_name",
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": null,
          "vendor_address": "Unknown",
          "date": "2024-12-01",
          "time": null,
          "currency": "USD",
          "subtotal": 25.0,
          "tax_amount": 2.25,
          "tip_amount": null,
          "total_amount": 27.25,
          "payment_method": "cash",
          "card_last_four": null,
          "line_items": [],
          "expense_category": "other",
          "confidence_score": 45,
          "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
          "notes": "Receipt heavily faded, vendor info unreadable"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:42.139876",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 14.5,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Café unclear",
          "vendor_address": null,
          "date": "2024-11-25",
          "time": null,
          "currency": "USD",
          "subtotal": 12.0,
          "tax_amount": null,
          "tip_amount": null,
          "total_amount": 14.5,
          "payment_method": null,
          "card_last_four": null,
          "line_items": [],
          "expense_category": "meals",
          "confidence_score": 35,
          "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
          "notes": "Receipt water damaged, most text unreadable"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:42.160969",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 110.0,
        "category": "supplies",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "International Store",
          "vendor_address": "123 Global St, Boston MA 02101",
          "date": "2024-12-02",
          "time": "14:00",
          "currency": "XYZ",
          "subtotal": 100.0,
          "tax_amount": 10.0,
          "tip_amount": null,
          "total_amount": 110.0,
          "payment_method": "credit",
          "card_last_four": "6666",
          "line_items": [
            {
              "description": "Product A",
              "quantity": 1,
              "unit_price": 100.0,
              "total": 100.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 80,
          "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
          "notes": "Currency symbol unclear"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:33:42.191110",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "requires_higher_approval",
        "total_amount": 49050.0,
        "category": "supplies",
        "issues": [
          "Missing receipt(s) for claimed amount",
          "High-value expense requires a justification",
          "High-value expense must include receipts",
          "High-value expense requires cost center or designated approver information"
        ],
        "flags": [
          "missing_receipt",
          "high_value_missing_justification",
          "high_value_missing_receipt",
          "high_value_missing_approval_info",
          "route_for_higher_approval"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission",
          "Add a justification explaining the business need",
          "Attach all supporting receipts/documents",
          "Provide cost center or approver to route for higher approval"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:12.902214",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 19.9,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Starbucks Coffee",
          "vendor_address": "123 Main St, Seattle WA 98101",
          "date": "2024-12-01",
          "time": "14:30",
          "currency": "USD",
          "subtotal": 15.5,
          "tax_amount": 1.4,
          "tip_amount": 3.0,
          "total_amount": 19.9,
          "payment_method": "credit",
          "card_last_four": "4242",
          "line_items": [
            {
              "description": "Grande Latte",
              "quantity": 2,
              "unit_price": 5.75,
              "total": 11.5
            },
            {
              "description": "Blueberry Muffin",
              "quantity": 1,
              "unit_price": 4.0,
              "total": 4.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 95,
          "raw_text_extracted": "STARBUCKS\n123 Main St\nSeattle WA 98101\n\nGrande Latte x2 $11.50\nBlueberry Muffin x1 $4.00\n\nSubtotal: $15.50\nTax: $1.40\nTip: $3.00\nTotal: $19.90\n\nVisa ****4242",
          "notes": "Clear receipt, all fields legible"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:12.947876",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": null,
        "category": "supplies",
        "issues": [
          "Incomplete reporting: date or total amount missing or unparsed"
        ],
        "flags": [
          "incomplete_reporting"
        ],
        "suggested_actions": [
          "Provide the transaction date and total amount"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Bob's Hardware",
          "vendor_address": "456 Oak Ave, Portland OR 97201",
          "date": "2024-11-28",
          "time": null,
          "currency": "USD",
          "subtotal": 45.99,
          "tax_amount": 4.14,
          "tip_amount": null,
          "total_amount": null,
          "payment_method": "debit",
          "card_last_four": "8765",
          "line_items": [
            {
              "description": "Paint Roller Set",
              "quantity": 1,
              "unit_price": 25.99,
              "total": 25.99
            },
            {
              "description": "Masking Tape",
              "quantity": 2,
              "unit_price": 10.0,
              "total": 20.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 85,
          "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
          "notes": "Bottom of receipt cut off"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:12.973795",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 42.0,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Pizza Palace",
          "vendor_address": "789 Broadway, New York NY 10003",
          "date": "2024-12-02",
          "time": "19:45",
          "currency": "USD",
          "subtotal": 30.0,
          "tax_amount": 2.7,
          "tip_amount": 5.0,
          "total_amount": 42.0,
          "payment_method": "credit",
          "card_last_four": "1234",
          "line_items": [
            {
              "description": "Large Pepperoni Pizza",
              "quantity": 1,
              "unit_price": 18.0,
              "total": 18.0
            },
            {
              "description": "Caesar Salad",
              "quantity": 1,
              "unit_price": 12.0,
              "total": 12.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
          "notes": "Receipt slightly blurry"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.000460",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 136.25,
        "category": "supplies",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Office Supplies Co",
          "vendor_address": "321 Market St, San Francisco CA 94102",
          "date": "12/03/24",
          "time": "10:15",
          "currency": "USD",
          "subtotal": 125.0,
          "tax_amount": 11.25,
          "tip_amount": null,
          "total_amount": 136.25,
          "payment_method": "credit",
          "card_last_four": "9999",
          "line_items": [
            {
              "description": "Paper Reams (10)",
              "quantity": 10,
              "unit_price": 8.5,
              "total": 85.0
            },
            {
              "description": "Stapler Heavy Duty",
              "quantity": 2,
              "unit_price": 20.0,
              "total": 40.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 90,
          "raw_text_extracted": "Office Supplies Co\n321 Market St SF CA\n12/03/24 10:15 AM\n\nPaper Reams x10 $85.00\nHeavy Duty Stapler x2 $40.00\n\nSubtotal $125.00\nTax $11.25\nTotal $136.25",
          "notes": "Clean scan"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.030032",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 323.99,
        "category": "supplies",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Tech Store",
          "vendor_address": "555 Tech Blvd, Austin TX 78701",
          "date": "2024-11-30",
          "time": "16:20",
          "currency": "USD",
          "subtotal": 299.99,
          "tax_amount": 24.0,
          "tip_amount": null,
          "total_amount": 323.99,
          "payment_method": "credit",
          "card_last_four": "5555",
          "line_items": [
            {
              "description": "Wireless Mouse",
              "quantity": 1,
              "unit_price": 49.99,
              "total": 49.99
            },
            {
              "description": "USB-C Cable",
              "quantity": 2,
              "unit_price": 19.99,
              "total": 39.98
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 75,
          "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
          "notes": "Middle section of receipt torn/unreadable"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.058483",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 71.5,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Restaurant XYZ",
          "vendor_address": "100 Food St, Chicago IL 60601",
          "date": "2026-01-04",
          "time": "12:00",
          "currency": "USD",
          "subtotal": 55.0,
          "tax_amount": 5.5,
          "tip_amount": 11.0,
          "total_amount": 71.5,
          "payment_method": "credit",
          "card_last_four": "7777",
          "line_items": [
            {
              "description": "Lunch Special",
              "quantity": 2,
              "unit_price": 27.5,
              "total": 55.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 85,
          "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
          "notes": "Date seems incorrect"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.086121",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 45.0,
        "category": "travel",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Gas Station",
          "vendor_address": "999 Highway 1, Los Angeles CA 90001",
          "date": "2024-12-01",
          "time": "08:30",
          "currency": "USD",
          "subtotal": 50.0,
          "tax_amount": -5.0,
          "tip_amount": null,
          "total_amount": 45.0,
          "payment_method": "credit",
          "card_last_four": "3333",
          "line_items": [
            {
              "description": "Gasoline",
              "quantity": 12.5,
              "unit_price": 4.0,
              "total": 50.0
            }
          ],
          "expense_category": "travel",
          "confidence_score": 70,
          "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
          "notes": "OCR may have misread refund as negative"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.112791",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 95.38,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Grocery Store",
          "vendor_address": "200 Main St, Denver CO 80201",
          "date": "2024-12-03",
          "time": "17:00",
          "currency": "USD",
          "subtotal": 87.5,
          "tax_amount": 7.88,
          "tip_amount": null,
          "total_amount": 95.38,
          "payment_method": "credit",
          "card_last_four": "12",
          "line_items": [
            {
              "description": "Groceries",
              "quantity": 1,
              "unit_price": 87.5,
              "total": 87.5
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
          "notes": "Card number partially readable"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.139392",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 27.25,
        "category": "other",
        "issues": [
          "Missing required fields: vendor_name",
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": null,
          "vendor_address": "Unknown",
          "date": "2024-12-01",
          "time": null,
          "currency": "USD",
          "subtotal": 25.0,
          "tax_amount": 2.25,
          "tip_amount": null,
          "total_amount": 27.25,
          "payment_method": "cash",
          "card_last_four": null,
          "line_items": [],
          "expense_category": "other",
          "confidence_score": 45,
          "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
          "notes": "Receipt heavily faded, vendor info unreadable"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.170651",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 14.5,
        "category": "meals",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Café unclear",
          "vendor_address": null,
          "date": "2024-11-25",
          "time": null,
          "currency": "USD",
          "subtotal": 12.0,
          "tax_amount": null,
          "tip_amount": null,
          "total_amount": 14.5,
          "payment_method": null,
          "card_last_four": null,
          "line_items": [],
          "expense_category": "meals",
          "confidence_score": 35,
          "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
          "notes": "Receipt water damaged, most text unreadable"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.199315",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "needs_correction",
        "total_amount": 110.0,
        "category": "supplies",
        "issues": [
          "Missing receipt(s) for claimed amount"
        ],
        "flags": [
          "missing_receipt"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "International Store",
          "vendor_address": "123 Global St, Boston MA 02101",
          "date": "2024-12-02",
          "time": "14:00",
          "currency": "XYZ",
          "subtotal": 100.0,
          "tax_amount": 10.0,
          "tip_amount": null,
          "total_amount": 110.0,
          "payment_method": "credit",
          "card_last_four": "6666",
          "line_items": [
            {
              "description": "Product A",
              "quantity": 1,
              "unit_price": 100.0,
              "total": 100.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 80,
          "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
          "notes": "Currency symbol unclear"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:46:13.225884",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "requires_higher_approval",
        "total_amount": 49050.0,
        "category": "supplies",
        "issues": [
          "Missing receipt(s) for claimed amount",
          "High-value expense requires a justification",
          "High-value expense must include receipts",
          "High-value expense requires cost center or designated approver information"
        ],
        "flags": [
          "missing_receipt",
          "high_value_missing_justification",
          "high_value_missing_receipt",
          "high_value_missing_approval_info",
          "route_for_higher_approval"
        ],
        "suggested_actions": [
          "Attach receipt image(s) before submission",
          "Add a justification explaining the business need",
          "Attach all supporting receipts/documents",
          "Provide cost center or approver to route for higher approval"
        ],
        "auto_approved": false,
        "raw_expense": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:54:48.555853",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Bob's Hardware",
          "vendor_address": "456 Oak Ave, Portland OR 97201",
          "date": "2024-11-28",
          "time": null,
          "currency": "USD",
          "subtotal": 45.99,
          "tax_amount": 4.14,
          "tip_amount": 0.0,
          "total_amount": 50.13,
          "payment_method": "debit",
          "card_last_four": "8765",
          "line_items": [
            {
              "description": "Paint Roller Set",
              "quantity": 1,
              "unit_price": 25.99,
              "total": 25.99
            },
            {
              "description": "Masking Tape",
              "quantity": 2,
              "unit_price": 10.0,
              "total": 20.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 85,
          "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
          "notes": "Bottom of receipt cut off"
        },
        "validation_errors": [
          "Missing critical field",
          "Missing optional field that could be present based on raw text",
          "Confidence score is below optimal threshold for high-quality data"
        ],
        "validation_warnings": [
          "Receipt mentions 'Bottom of receipt cut off', which may indicate missing data",
          "Expense category 'supplies' seems reasonable but could be further validated against vendor type"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "total_amount",
              "issue": "Missing critical field",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "subtotal + tax_amount + tip_amount"
            },
            {
              "field": "time",
              "issue": "Missing optional field that could be present based on raw text",
              "severity": "LOW",
              "current_value": null,
              "expected": "HH:MM format or null if not available"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is below optimal threshold for high-quality data",
              "severity": "MEDIUM",
              "current_value": 85,
              "expected": "90 or higher for optimal data quality"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt mentions 'Bottom of receipt cut off', which may indicate missing data",
              "recommendation": "Verify if additional details are missing from the receipt"
            },
            {
              "field": "expense_category",
              "issue": "Expense category 'supplies' seems reasonable but could be further validated against vendor type",
              "recommendation": "Ensure vendor and category alignment in future validations"
            }
          ],
          "corrected_data": {
            "vendor_name": "Bob's Hardware",
            "vendor_address": "456 Oak Ave, Portland OR 97201",
            "date": "2024-11-28",
            "time": null,
            "currency": "USD",
            "subtotal": 45.99,
            "tax_amount": 4.14,
            "tip_amount": 0.0,
            "total_amount": 50.13,
            "payment_method": "debit",
            "card_last_four": "8765",
            "line_items": [
              {
                "description": "Paint Roller Set",
                "quantity": 1,
                "unit_price": 25.99,
                "total": 25.99
              },
              {
                "description": "Masking Tape",
                "quantity": 2,
                "unit_price": 10.0,
                "total": 20.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 85,
            "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
            "notes": "Bottom of receipt cut off"
          },
          "corrections_made": [
            {
              "field": "total_amount",
              "original_value": null,
              "corrected_value": 50.13,
              "reason": "Calculated as subtotal + tax_amount + tip_amount"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Defaulted to 0.0 as no tip is mentioned in raw text"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 85,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Total amount was missing but calculated based on subtotal, tax, and tip.",
            "Confidence score is slightly below optimal threshold, which may indicate potential OCR errors.",
            "Receipt mentions 'Bottom of receipt cut off', which may indicate missing data not captured in extraction.",
            "Expense category 'supplies' aligns with vendor type but could be further validated in future checks."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 85,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:54:58.878467",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Pizza Palace",
          "vendor_address": "789 Broadway, New York NY 10003",
          "date": "2023-12-02",
          "time": "19:45",
          "currency": "USD",
          "subtotal": 30.0,
          "tax_amount": 2.7,
          "tip_amount": 5.0,
          "total_amount": 42.0,
          "payment_method": "credit",
          "card_last_four": "1234",
          "line_items": [
            {
              "description": "Large Pepperoni Pizza",
              "quantity": 1,
              "unit_price": 18.0,
              "total": 18.0
            },
            {
              "description": "Caesar Salad",
              "quantity": 1,
              "unit_price": 12.0,
              "total": 12.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
          "notes": "Receipt slightly blurry"
        },
        "validation_errors": [
          "Date is in the future, which is not reasonable for an expense receipt.",
          "Confidence score is relatively low, indicating potential OCR errors."
        ],
        "validation_warnings": [
          "Receipt is noted as slightly blurry, which may impact data accuracy."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future, which is not reasonable for an expense receipt.",
              "severity": "CRITICAL",
              "current_value": "2024-12-02",
              "expected": "A valid past or present date"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low, indicating potential OCR errors.",
              "severity": "MEDIUM",
              "current_value": 80,
              "expected": "Higher confidence score for better data reliability"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt is noted as slightly blurry, which may impact data accuracy.",
              "recommendation": "Double-check extracted values against the raw text for potential OCR errors."
            }
          ],
          "corrected_data": {
            "vendor_name": "Pizza Palace",
            "vendor_address": "789 Broadway, New York NY 10003",
            "date": "2023-12-02",
            "time": "19:45",
            "currency": "USD",
            "subtotal": 30.0,
            "tax_amount": 2.7,
            "tip_amount": 5.0,
            "total_amount": 42.0,
            "payment_method": "credit",
            "card_last_four": "1234",
            "line_items": [
              {
                "description": "Large Pepperoni Pizza",
                "quantity": 1,
                "unit_price": 18.0,
                "total": 18.0
              },
              {
                "description": "Caesar Salad",
                "quantity": 1,
                "unit_price": 12.0,
                "total": 12.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
            "notes": "Receipt slightly blurry"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-02",
              "corrected_value": "2023-12-02",
              "reason": "Date was in the future, which is not reasonable for an expense receipt."
            }
          ],
          "validation_summary": {
            "total_errors": 2,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date field was corrected as it was in the future, which is not reasonable for an expense receipt.",
            "Confidence score is relatively low, which may indicate potential OCR errors. Receipt is noted as blurry, so extracted data should be reviewed carefully.",
            "All monetary calculations were verified and are accurate."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 2,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:55:23.753204",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Tech Store",
          "vendor_address": "555 Tech Blvd, Austin TX 78701",
          "date": "2023-11-30",
          "time": "16:20",
          "currency": "USD",
          "subtotal": 89.97,
          "tax_amount": 24.0,
          "tip_amount": null,
          "total_amount": 113.97,
          "payment_method": "credit",
          "card_last_four": "5555",
          "line_items": [
            {
              "description": "Wireless Mouse",
              "quantity": 1,
              "unit_price": 49.99,
              "total": 49.99
            },
            {
              "description": "USB-C Cable",
              "quantity": 2,
              "unit_price": 19.99,
              "total": 39.98
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 75,
          "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
          "notes": "Middle section of receipt torn/unreadable"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal does not match sum of line items",
          "Line items subtotal calculation does not match extracted subtotal",
          "Confidence score is low for critical fields"
        ],
        "validation_warnings": [
          "Receipt is partially torn, which may impact data accuracy",
          "Expense category may not align perfectly with vendor and line items"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 70,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-11-30",
              "expected": "A valid date not in the future"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line items",
              "severity": "HIGH",
              "current_value": 299.99,
              "expected": 89.97
            },
            {
              "field": "line_items",
              "issue": "Line items subtotal calculation does not match extracted subtotal",
              "severity": "HIGH",
              "current_value": [
                {
                  "description": "Wireless Mouse",
                  "quantity": 1,
                  "unit_price": 49.99,
                  "total": 49.99
                },
                {
                  "description": "USB-C Cable",
                  "quantity": 2,
                  "unit_price": 19.99,
                  "total": 39.98
                }
              ],
              "expected": "Line items should sum to match subtotal"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low for critical fields",
              "severity": "MEDIUM",
              "current_value": 75,
              "expected": "Higher confidence score for critical fields"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt is partially torn, which may impact data accuracy",
              "recommendation": "Verify data against original receipt if possible"
            },
            {
              "field": "expense_category",
              "issue": "Expense category may not align perfectly with vendor and line items",
              "recommendation": "Consider reviewing category assignment"
            }
          ],
          "corrected_data": {
            "vendor_name": "Tech Store",
            "vendor_address": "555 Tech Blvd, Austin TX 78701",
            "date": "2023-11-30",
            "time": "16:20",
            "currency": "USD",
            "subtotal": 89.97,
            "tax_amount": 24.0,
            "tip_amount": null,
            "total_amount": 113.97,
            "payment_method": "credit",
            "card_last_four": "5555",
            "line_items": [
              {
                "description": "Wireless Mouse",
                "quantity": 1,
                "unit_price": 49.99,
                "total": 49.99
              },
              {
                "description": "USB-C Cable",
                "quantity": 2,
                "unit_price": 19.99,
                "total": 39.98
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 75,
            "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
            "notes": "Middle section of receipt torn/unreadable"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-11-30",
              "corrected_value": "2023-11-30",
              "reason": "Date cannot be in the future"
            },
            {
              "field": "subtotal",
              "original_value": 299.99,
              "corrected_value": 89.97,
              "reason": "Subtotal corrected to match sum of line items"
            },
            {
              "field": "total_amount",
              "original_value": 323.99,
              "corrected_value": 113.97,
              "reason": "Total amount corrected based on recalculated subtotal and tax"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 85,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Date was in the future and corrected to a reasonable past date.",
            "Subtotal and total amount did not match line items and tax; corrections applied.",
            "Confidence score is low, which may indicate potential OCR errors.",
            "Receipt is partially torn, which may have impacted data extraction accuracy."
          ]
        },
        "data_quality": {
          "score": 70,
          "summary": {
            "total_errors": 4,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 85,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:55:33.519630",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Restaurant XYZ",
          "vendor_address": "100 Food St, Chicago IL 60601",
          "date": "2023-01-04",
          "time": "12:00",
          "currency": "USD",
          "subtotal": 55.0,
          "tax_amount": 5.5,
          "tip_amount": 11.0,
          "total_amount": 71.5,
          "payment_method": "credit",
          "card_last_four": "7777",
          "line_items": [
            {
              "description": "Lunch Special",
              "quantity": 2,
              "unit_price": 27.5,
              "total": 55.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 85,
          "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
          "notes": "Date seems incorrect"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal does not match the sum of line item totals",
          "Confidence score is below the acceptable threshold for high-quality data"
        ],
        "validation_warnings": [
          "Notes indicate a potential issue with the date"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2026-01-04",
              "expected": "A valid date not in the future"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals",
              "severity": "HIGH",
              "current_value": 55.0,
              "expected": "Sum of line item totals (55.0)"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is below the acceptable threshold for high-quality data",
              "severity": "MEDIUM",
              "current_value": 85,
              "expected": "Confidence score >= 90"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Notes indicate a potential issue with the date",
              "recommendation": "Review and confirm the date field"
            }
          ],
          "corrected_data": {
            "vendor_name": "Restaurant XYZ",
            "vendor_address": "100 Food St, Chicago IL 60601",
            "date": "2023-01-04",
            "time": "12:00",
            "currency": "USD",
            "subtotal": 55.0,
            "tax_amount": 5.5,
            "tip_amount": 11.0,
            "total_amount": 71.5,
            "payment_method": "credit",
            "card_last_four": "7777",
            "line_items": [
              {
                "description": "Lunch Special",
                "quantity": 2,
                "unit_price": 27.5,
                "total": 55.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 85,
            "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
            "notes": "Date seems incorrect"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2026-01-04",
              "corrected_value": "2023-01-04",
              "reason": "Date was in the future; corrected to a reasonable past date"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date field was flagged as being in the future, which is not valid.",
            "Confidence score is slightly below the threshold for high-quality data, which may indicate potential OCR errors.",
            "All monetary calculations were verified and are accurate.",
            "The raw text matches the extracted data for all fields except the date."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:55:51.214040",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Gas Station",
          "vendor_address": "999 Highway 1, Los Angeles CA 90001",
          "date": "2023-12-01",
          "time": "08:30",
          "currency": "USD",
          "subtotal": 50.0,
          "tax_amount": 5.0,
          "tip_amount": 0.0,
          "total_amount": 55.0,
          "payment_method": "credit",
          "card_last_four": "3333",
          "line_items": [
            {
              "description": "Gasoline",
              "quantity": 12.5,
              "unit_price": 4.0,
              "total": 50.0
            }
          ],
          "expense_category": "travel",
          "confidence_score": 70,
          "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
          "notes": "OCR may have misread refund as negative"
        },
        "validation_errors": [
          "Date is in the future",
          "Tax amount is negative, which is unusual",
          "Subtotal + tax_amount + tip_amount does not equal total_amount",
          "Confidence score is low, indicating potential OCR errors"
        ],
        "validation_warnings": [
          "Expense category 'travel' may not align perfectly with vendor 'Gas Station'",
          "Notes indicate potential OCR misreading of refund as negative tax"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 65,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "A date not in the future"
            },
            {
              "field": "tax_amount",
              "issue": "Tax amount is negative, which is unusual",
              "severity": "HIGH",
              "current_value": -5.0,
              "expected": "A non-negative tax amount unless explicitly a refund"
            },
            {
              "field": "subtotal + tax_amount + tip_amount",
              "issue": "Subtotal + tax_amount + tip_amount does not equal total_amount",
              "severity": "CRITICAL",
              "current_value": "50.0 + (-5.0) + 0.0 = 45.0",
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low, indicating potential OCR errors",
              "severity": "MEDIUM",
              "current_value": 70,
              "expected": "A higher confidence score for better data quality"
            }
          ],
          "validation_warnings": [
            {
              "field": "expense_category",
              "issue": "Expense category 'travel' may not align perfectly with vendor 'Gas Station'",
              "recommendation": "Verify if 'travel' is the correct category for this expense"
            },
            {
              "field": "notes",
              "issue": "Notes indicate potential OCR misreading of refund as negative tax",
              "recommendation": "Manually verify if tax amount is correct"
            }
          ],
          "corrected_data": {
            "vendor_name": "Gas Station",
            "vendor_address": "999 Highway 1, Los Angeles CA 90001",
            "date": "2023-12-01",
            "time": "08:30",
            "currency": "USD",
            "subtotal": 50.0,
            "tax_amount": 5.0,
            "tip_amount": 0.0,
            "total_amount": 55.0,
            "payment_method": "credit",
            "card_last_four": "3333",
            "line_items": [
              {
                "description": "Gasoline",
                "quantity": 12.5,
                "unit_price": 4.0,
                "total": 50.0
              }
            ],
            "expense_category": "travel",
            "confidence_score": 70,
            "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
            "notes": "OCR may have misread refund as negative"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": "2023-12-01",
              "reason": "Date was in the future, adjusted to a reasonable past date"
            },
            {
              "field": "tax_amount",
              "original_value": -5.0,
              "corrected_value": 5.0,
              "reason": "Negative tax amount is unusual; corrected based on likely OCR error"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Tip amount was null; defaulted to 0.0 for consistency"
            },
            {
              "field": "total_amount",
              "original_value": 45.0,
              "corrected_value": 55.0,
              "reason": "Total amount recalculated based on corrected tax amount"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 4,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date was in the future, which is invalid. Corrected to a reasonable past date.",
            "Tax amount was negative, likely due to an OCR error. Corrected to a positive value.",
            "Confidence score is low, indicating potential OCR errors. Manual review is recommended.",
            "Notes suggest a potential OCR misreading of a refund as negative tax. This was corrected."
          ]
        },
        "data_quality": {
          "score": 65,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 4,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:56:05.591960",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Grocery Store",
          "vendor_address": "200 Main St, Denver CO 80201",
          "date": "2023-12-03",
          "time": "17:00",
          "currency": "USD",
          "subtotal": 87.5,
          "tax_amount": 7.88,
          "tip_amount": 0,
          "total_amount": 95.38,
          "payment_method": "credit",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Groceries",
              "quantity": 1,
              "unit_price": 87.5,
              "total": 87.5
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
          "notes": "Card number partially readable"
        },
        "validation_errors": [
          "Date is in the future",
          "Card last four digits are incomplete",
          "Subtotal + tax_amount + tip_amount does not equal total_amount"
        ],
        "validation_warnings": [
          "Confidence score is relatively low",
          "Expense category 'meals' may not align with vendor 'Grocery Store'"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-03",
              "expected": "A date not in the future"
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are incomplete",
              "severity": "HIGH",
              "current_value": "12",
              "expected": "Exactly 4 digits"
            },
            {
              "field": "subtotal + tax_amount + tip_amount",
              "issue": "Subtotal + tax_amount + tip_amount does not equal total_amount",
              "severity": "CRITICAL",
              "current_value": "87.5 + 7.88 + 0 = 95.38",
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount (allowing for rounding)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "expense_category",
              "issue": "Expense category 'meals' may not align with vendor 'Grocery Store'",
              "recommendation": "Consider verifying the category assignment"
            }
          ],
          "corrected_data": {
            "vendor_name": "Grocery Store",
            "vendor_address": "200 Main St, Denver CO 80201",
            "date": "2023-12-03",
            "time": "17:00",
            "currency": "USD",
            "subtotal": 87.5,
            "tax_amount": 7.88,
            "tip_amount": 0,
            "total_amount": 95.38,
            "payment_method": "credit",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Groceries",
                "quantity": 1,
                "unit_price": 87.5,
                "total": 87.5
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
            "notes": "Card number partially readable"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-03",
              "corrected_value": "2023-12-03",
              "reason": "Date cannot be in the future"
            },
            {
              "field": "card_last_four",
              "original_value": "12",
              "corrected_value": null,
              "reason": "Card last four digits are incomplete and cannot be validated"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "The date was in the future and has been corrected to a reasonable value.",
            "The card_last_four field is incomplete and has been nullified due to insufficient data.",
            "The subtotal + tax_amount + tip_amount calculation does not match the total_amount, indicating a potential data extraction error.",
            "Confidence score is relatively low, suggesting potential OCR issues.",
            "Expense category 'meals' may not align with the vendor 'Grocery Store', but this requires further review outside of data validation."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:56:19.645878",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Unknown",
          "vendor_address": "Unknown",
          "date": "2023-12-01",
          "time": null,
          "currency": "USD",
          "subtotal": 25.0,
          "tax_amount": 2.25,
          "tip_amount": null,
          "total_amount": 27.25,
          "payment_method": "cash",
          "card_last_four": null,
          "line_items": [],
          "expense_category": "other",
          "confidence_score": 45,
          "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
          "notes": "Receipt heavily faded, vendor info unreadable"
        },
        "validation_errors": [
          "Critical field is missing",
          "Date is in the future",
          "Low confidence score indicates potential OCR errors",
          "No line items extracted despite subtotal being present"
        ],
        "validation_warnings": [
          "Vendor address is marked as 'Unknown'",
          "Time is missing",
          "Tip amount is null"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 55,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Critical field is missing",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "Vendor name should be extracted or marked as 'Unknown' if unreadable"
            },
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date should not be in the future"
            },
            {
              "field": "confidence_score",
              "issue": "Low confidence score indicates potential OCR errors",
              "severity": "HIGH",
              "current_value": 45,
              "expected": "Confidence score should ideally be above 70 for reliable data"
            },
            {
              "field": "line_items",
              "issue": "No line items extracted despite subtotal being present",
              "severity": "HIGH",
              "current_value": [],
              "expected": "Line items should be extracted or subtotal should be verified"
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is marked as 'Unknown'",
              "recommendation": "Verify if vendor address can be extracted from the receipt"
            },
            {
              "field": "time",
              "issue": "Time is missing",
              "recommendation": "If time is present on the receipt, it should be extracted"
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is null",
              "recommendation": "Verify if tip amount is present on the receipt"
            }
          ],
          "corrected_data": {
            "vendor_name": "Unknown",
            "vendor_address": "Unknown",
            "date": "2023-12-01",
            "time": null,
            "currency": "USD",
            "subtotal": 25.0,
            "tax_amount": 2.25,
            "tip_amount": null,
            "total_amount": 27.25,
            "payment_method": "cash",
            "card_last_four": null,
            "line_items": [],
            "expense_category": "other",
            "confidence_score": 45,
            "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
            "notes": "Receipt heavily faded, vendor info unreadable"
          },
          "corrections_made": [
            {
              "field": "vendor_name",
              "original_value": null,
              "corrected_value": "Unknown",
              "reason": "Vendor name is critical and must be marked as 'Unknown' if unreadable"
            },
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": "2023-12-01",
              "reason": "Date cannot be in the future; adjusted to a reasonable past date"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 2,
            "data_completeness_score": 70,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Vendor name and address are missing or unreadable due to faded receipt.",
            "Date was in the future and has been corrected to a reasonable past date.",
            "Confidence score is low, indicating potential OCR errors or incomplete data extraction.",
            "No line items were extracted despite subtotal being present, which raises concerns about data completeness.",
            "Tip amount and time are missing but may not be critical depending on the receipt."
          ]
        },
        "data_quality": {
          "score": 55,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 2,
            "data_completeness_score": 70,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:56:33.950358",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Café",
          "vendor_address": null,
          "date": null,
          "time": null,
          "currency": "USD",
          "subtotal": null,
          "tax_amount": null,
          "tip_amount": null,
          "total_amount": 14.5,
          "payment_method": null,
          "card_last_four": null,
          "line_items": [],
          "expense_category": "meals",
          "confidence_score": 35,
          "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
          "notes": "Receipt water damaged, most text unreadable"
        },
        "validation_errors": [
          "Vendor name appears incomplete or unclear based on raw text.",
          "Date is in the future.",
          "Subtotal does not align with total_amount calculation.",
          "Confidence score is very low, indicating poor data extraction quality."
        ],
        "validation_warnings": [
          "Vendor address is missing.",
          "Tax amount is missing.",
          "Tip amount is missing.",
          "Payment method is missing.",
          "Card last four digits are missing."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 45,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Vendor name appears incomplete or unclear based on raw text.",
              "severity": "MEDIUM",
              "current_value": "Café unclear",
              "expected": "Vendor name should match raw text or be corrected based on evidence."
            },
            {
              "field": "date",
              "issue": "Date is in the future.",
              "severity": "CRITICAL",
              "current_value": "2024-11-25",
              "expected": "Date should not be in the future."
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not align with total_amount calculation.",
              "severity": "CRITICAL",
              "current_value": 12.0,
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor data extraction quality.",
              "severity": "HIGH",
              "current_value": 35,
              "expected": "Confidence score should ideally be above 70 for reliable data."
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is missing.",
              "recommendation": "Consider adding vendor address if available from the receipt or other sources."
            },
            {
              "field": "tax_amount",
              "issue": "Tax amount is missing.",
              "recommendation": "Verify if tax amount is applicable and should be included."
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is missing.",
              "recommendation": "Verify if tip amount is applicable and should be included."
            },
            {
              "field": "payment_method",
              "issue": "Payment method is missing.",
              "recommendation": "Consider adding payment method if available from the receipt or other sources."
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are missing.",
              "recommendation": "Consider adding card last four digits if available from the receipt or other sources."
            }
          ],
          "corrected_data": {
            "vendor_name": "Café",
            "vendor_address": null,
            "date": null,
            "time": null,
            "currency": "USD",
            "subtotal": null,
            "tax_amount": null,
            "tip_amount": null,
            "total_amount": 14.5,
            "payment_method": null,
            "card_last_four": null,
            "line_items": [],
            "expense_category": "meals",
            "confidence_score": 35,
            "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
            "notes": "Receipt water damaged, most text unreadable"
          },
          "corrections_made": [
            {
              "field": "vendor_name",
              "original_value": "Café unclear",
              "corrected_value": "Café",
              "reason": "Corrected based on raw text evidence."
            },
            {
              "field": "date",
              "original_value": "2024-11-25",
              "corrected_value": null,
              "reason": "Date is invalid as it is in the future."
            },
            {
              "field": "subtotal",
              "original_value": 12.0,
              "corrected_value": null,
              "reason": "Subtotal does not align with total_amount calculation."
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 5,
            "fields_corrected": 3,
            "data_completeness_score": 50,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Vendor name appears incomplete or unclear based on raw text.",
            "Date is invalid as it is in the future.",
            "Subtotal does not align with total_amount calculation.",
            "Confidence score is very low, indicating poor data extraction quality.",
            "Receipt is water damaged, leading to significant data extraction issues."
          ]
        },
        "data_quality": {
          "score": 45,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 5,
            "fields_corrected": 3,
            "data_completeness_score": 50,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:56:51.863554",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "International Store",
          "vendor_address": "123 Global St, Boston MA 02101",
          "date": "2023-12-02",
          "time": "14:00",
          "currency": "USD",
          "subtotal": 100.0,
          "tax_amount": 10.0,
          "tip_amount": 0.0,
          "total_amount": 110.0,
          "payment_method": "credit",
          "card_last_four": "6666",
          "line_items": [
            {
              "description": "Product A",
              "quantity": 1,
              "unit_price": 100.0,
              "total": 100.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 80,
          "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
          "notes": "Currency symbol unclear"
        },
        "validation_errors": [
          "Date is in the future",
          "Invalid currency code",
          "Subtotal does not match sum of line items",
          "Subtotal + tax_amount + tip_amount does not equal total_amount"
        ],
        "validation_warnings": [
          "Low confidence score for extracted data",
          "Currency symbol unclear"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-02",
              "expected": "A valid date not in the future"
            },
            {
              "field": "currency",
              "issue": "Invalid currency code",
              "severity": "CRITICAL",
              "current_value": "XYZ",
              "expected": "A valid ISO currency code (e.g., USD, EUR)"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line items",
              "severity": "HIGH",
              "current_value": 100.0,
              "expected": "Sum of line items total (100.0)"
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount + tip_amount does not equal total_amount",
              "severity": "HIGH",
              "current_value": 110.0,
              "expected": "Subtotal (100.0) + Tax (10.0) + Tip (0.0) = 110.0"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Low confidence score for extracted data",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "notes",
              "issue": "Currency symbol unclear",
              "recommendation": "Clarify currency symbol or confirm currency code"
            }
          ],
          "corrected_data": {
            "vendor_name": "International Store",
            "vendor_address": "123 Global St, Boston MA 02101",
            "date": "2023-12-02",
            "time": "14:00",
            "currency": "USD",
            "subtotal": 100.0,
            "tax_amount": 10.0,
            "tip_amount": 0.0,
            "total_amount": 110.0,
            "payment_method": "credit",
            "card_last_four": "6666",
            "line_items": [
              {
                "description": "Product A",
                "quantity": 1,
                "unit_price": 100.0,
                "total": 100.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 80,
            "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
            "notes": "Currency symbol unclear"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-02",
              "corrected_value": "2023-12-02",
              "reason": "Date was in the future, adjusted to a reasonable past date"
            },
            {
              "field": "currency",
              "original_value": "XYZ",
              "corrected_value": "USD",
              "reason": "Invalid currency code, corrected based on likely default currency for Boston, MA"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date was in the future, which is invalid for an expense receipt.",
            "The currency code 'XYZ' is not a valid ISO currency code. Based on the location (Boston, MA), USD was assumed.",
            "Confidence score is low, indicating potential OCR errors. Data should be reviewed carefully.",
            "The raw text mentions 'XYZ' as the currency, but this is not a valid ISO code. Clarification is needed."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T09:57:01.567246",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2023-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal does not match sum of line items",
          "Total amount calculation failed"
        ],
        "validation_warnings": [
          "Payment method is 'check', which may require additional verification",
          "Card last four digits are null"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "A date not in the future"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line items",
              "severity": "HIGH",
              "current_value": 45000.0,
              "expected": "Sum of line items totals"
            },
            {
              "field": "total_amount",
              "issue": "Total amount calculation failed",
              "severity": "CRITICAL",
              "current_value": 49050.0,
              "expected": "subtotal + tax_amount + tip_amount"
            }
          ],
          "validation_warnings": [
            {
              "field": "payment_method",
              "issue": "Payment method is 'check', which may require additional verification",
              "recommendation": "Ensure payment method is accurately recorded"
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are null",
              "recommendation": "Verify if this field should be populated for check payments"
            }
          ],
          "corrected_data": {
            "vendor_name": "Electronics Wholesale",
            "vendor_address": "500 Commerce Dr, Miami FL 33101",
            "date": "2023-12-01",
            "time": "11:30",
            "currency": "USD",
            "subtotal": 45000.0,
            "tax_amount": 4050.0,
            "tip_amount": null,
            "total_amount": 49050.0,
            "payment_method": "check",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Laptops (Bulk Order)",
                "quantity": 50,
                "unit_price": 900.0,
                "total": 45000.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 95,
            "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
            "notes": "Large bulk purchase"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": "2023-12-01",
              "reason": "Date cannot be in the future"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Date was in the future and corrected to a reasonable past date.",
            "Subtotal matches the line items total, but total_amount calculation failed.",
            "Payment method 'check' may require additional verification.",
            "Card last four digits are null, which is acceptable for check payments but should be confirmed."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:03:52.325084",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Bob's Hardware",
          "vendor_address": "456 Oak Ave, Portland OR 97201",
          "date": "2023-11-28",
          "time": null,
          "currency": "USD",
          "subtotal": 45.99,
          "tax_amount": 4.14,
          "tip_amount": 0.0,
          "total_amount": 50.13,
          "payment_method": "debit",
          "card_last_four": "8765",
          "line_items": [
            {
              "description": "Paint Roller Set",
              "quantity": 1,
              "unit_price": 25.99,
              "total": 25.99
            },
            {
              "description": "Masking Tape",
              "quantity": 2,
              "unit_price": 10.0,
              "total": 20.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 85,
          "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
          "notes": "Bottom of receipt cut off"
        },
        "validation_errors": [
          "Missing critical field",
          "Date is in the future",
          "Line item total does not match quantity × unit_price"
        ],
        "validation_warnings": [
          "Confidence score is below 90%",
          "Receipt is partially cut off"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "total_amount",
              "issue": "Missing critical field",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "subtotal + tax_amount + tip_amount"
            },
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "HIGH",
              "current_value": "2024-11-28",
              "expected": "Date should not be in the future"
            },
            {
              "field": "line_items[1].total",
              "issue": "Line item total does not match quantity × unit_price",
              "severity": "MEDIUM",
              "current_value": 20.0,
              "expected": "quantity × unit_price = 2 × 10.0 = 20.00"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is below 90%",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "notes",
              "issue": "Receipt is partially cut off",
              "recommendation": "Verify missing details manually if possible"
            }
          ],
          "corrected_data": {
            "vendor_name": "Bob's Hardware",
            "vendor_address": "456 Oak Ave, Portland OR 97201",
            "date": "2023-11-28",
            "time": null,
            "currency": "USD",
            "subtotal": 45.99,
            "tax_amount": 4.14,
            "tip_amount": 0.0,
            "total_amount": 50.13,
            "payment_method": "debit",
            "card_last_four": "8765",
            "line_items": [
              {
                "description": "Paint Roller Set",
                "quantity": 1,
                "unit_price": 25.99,
                "total": 25.99
              },
              {
                "description": "Masking Tape",
                "quantity": 2,
                "unit_price": 10.0,
                "total": 20.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 85,
            "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
            "notes": "Bottom of receipt cut off"
          },
          "corrections_made": [
            {
              "field": "total_amount",
              "original_value": null,
              "corrected_value": 50.13,
              "reason": "Calculated as subtotal + tax_amount + tip_amount"
            },
            {
              "field": "date",
              "original_value": "2024-11-28",
              "corrected_value": "2023-11-28",
              "reason": "Adjusted to avoid future date"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Defaulted to 0.0 as no tip is mentioned in raw text"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 85,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Total_amount was missing and calculated based on subtotal, tax_amount, and tip_amount.",
            "Date was in the future and corrected to a reasonable past date.",
            "Confidence score is below 90%, indicating potential OCR errors.",
            "Receipt notes indicate partial data loss due to cut-off, which may affect completeness."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 85,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:03:59.642011",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Pizza Palace",
          "vendor_address": "789 Broadway, New York NY 10003",
          "date": "2023-12-02",
          "time": "19:45",
          "currency": "USD",
          "subtotal": 30.0,
          "tax_amount": 2.7,
          "tip_amount": 5.0,
          "total_amount": 42.0,
          "payment_method": "credit",
          "card_last_four": "1234",
          "line_items": [
            {
              "description": "Large Pepperoni Pizza",
              "quantity": 1,
              "unit_price": 18.0,
              "total": 18.0
            },
            {
              "description": "Caesar Salad",
              "quantity": 1,
              "unit_price": 12.0,
              "total": 12.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
          "notes": "Receipt slightly blurry"
        },
        "validation_errors": [
          "Date is in the future",
          "Confidence score is below optimal threshold for high-quality data"
        ],
        "validation_warnings": [
          "Receipt is slightly blurry"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-02",
              "expected": "A valid date not in the future"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is below optimal threshold for high-quality data",
              "severity": "MEDIUM",
              "current_value": 80,
              "expected": "Confidence score above 90 for optimal data quality"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt is slightly blurry",
              "recommendation": "Verify extracted data against original receipt for accuracy"
            }
          ],
          "corrected_data": {
            "vendor_name": "Pizza Palace",
            "vendor_address": "789 Broadway, New York NY 10003",
            "date": "2023-12-02",
            "time": "19:45",
            "currency": "USD",
            "subtotal": 30.0,
            "tax_amount": 2.7,
            "tip_amount": 5.0,
            "total_amount": 42.0,
            "payment_method": "credit",
            "card_last_four": "1234",
            "line_items": [
              {
                "description": "Large Pepperoni Pizza",
                "quantity": 1,
                "unit_price": 18.0,
                "total": 18.0
              },
              {
                "description": "Caesar Salad",
                "quantity": 1,
                "unit_price": 12.0,
                "total": 12.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
            "notes": "Receipt slightly blurry"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-02",
              "corrected_value": "2023-12-02",
              "reason": "Date cannot be in the future; corrected to a reasonable past date"
            }
          ],
          "validation_summary": {
            "total_errors": 2,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Date was in the future and corrected to a reasonable past date.",
            "Confidence score is slightly below optimal threshold, which may indicate potential OCR errors.",
            "Receipt is slightly blurry, which could impact data extraction accuracy."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 2,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:04:20.771477",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Tech Store",
          "vendor_address": "555 Tech Blvd, Austin TX 78701",
          "date": "2023-11-30",
          "time": "16:20",
          "currency": "USD",
          "subtotal": 89.97,
          "tax_amount": 24.0,
          "tip_amount": null,
          "total_amount": 113.97,
          "payment_method": "credit",
          "card_last_four": "5555",
          "line_items": [
            {
              "description": "Wireless Mouse",
              "quantity": 1,
              "unit_price": 49.99,
              "total": 49.99
            },
            {
              "description": "USB-C Cable",
              "quantity": 2,
              "unit_price": 19.99,
              "total": 39.98
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 75,
          "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
          "notes": "Middle section of receipt torn/unreadable"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal does not match sum of line items",
          "Line items subtotal calculation is incorrect",
          "Confidence score is low for critical fields"
        ],
        "validation_warnings": [
          "Receipt is partially torn",
          "Vendor address formatting may be incomplete"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 70,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-11-30",
              "expected": "A date not in the future"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line items",
              "severity": "HIGH",
              "current_value": 299.99,
              "expected": 89.97
            },
            {
              "field": "line_items",
              "issue": "Line items subtotal calculation is incorrect",
              "severity": "HIGH",
              "current_value": [
                {
                  "description": "Wireless Mouse",
                  "quantity": 1,
                  "unit_price": 49.99,
                  "total": 49.99
                },
                {
                  "description": "USB-C Cable",
                  "quantity": 2,
                  "unit_price": 19.99,
                  "total": 39.98
                }
              ],
              "expected": "Line items total should sum to match subtotal"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low for critical fields",
              "severity": "MEDIUM",
              "current_value": 75,
              "expected": "Higher confidence score for critical fields"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt is partially torn",
              "recommendation": "Verify missing data manually if possible"
            },
            {
              "field": "vendor_address",
              "issue": "Vendor address formatting may be incomplete",
              "recommendation": "Double-check address against original receipt"
            }
          ],
          "corrected_data": {
            "vendor_name": "Tech Store",
            "vendor_address": "555 Tech Blvd, Austin TX 78701",
            "date": "2023-11-30",
            "time": "16:20",
            "currency": "USD",
            "subtotal": 89.97,
            "tax_amount": 24.0,
            "tip_amount": null,
            "total_amount": 113.97,
            "payment_method": "credit",
            "card_last_four": "5555",
            "line_items": [
              {
                "description": "Wireless Mouse",
                "quantity": 1,
                "unit_price": 49.99,
                "total": 49.99
              },
              {
                "description": "USB-C Cable",
                "quantity": 2,
                "unit_price": 19.99,
                "total": 39.98
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 75,
            "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
            "notes": "Middle section of receipt torn/unreadable"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-11-30",
              "corrected_value": "2023-11-30",
              "reason": "Date cannot be in the future"
            },
            {
              "field": "subtotal",
              "original_value": 299.99,
              "corrected_value": 89.97,
              "reason": "Subtotal corrected to match sum of line items"
            },
            {
              "field": "total_amount",
              "original_value": 323.99,
              "corrected_value": 113.97,
              "reason": "Total amount corrected to match subtotal + tax"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 85,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Date is in the future, which is invalid for expense reporting.",
            "Subtotal does not match sum of line items, indicating a possible extraction error.",
            "Confidence score is low for critical fields, suggesting potential OCR issues.",
            "Receipt is torn, which may have caused missing or inaccurate data."
          ]
        },
        "data_quality": {
          "score": 70,
          "summary": {
            "total_errors": 4,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 85,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:04:29.152137",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Restaurant XYZ",
          "vendor_address": "100 Food St, Chicago IL 60601",
          "date": "2023-01-04",
          "time": "12:00",
          "currency": "USD",
          "subtotal": 55.0,
          "tax_amount": 5.5,
          "tip_amount": 11.0,
          "total_amount": 71.5,
          "payment_method": "credit",
          "card_last_four": "7777",
          "line_items": [
            {
              "description": "Lunch Special",
              "quantity": 2,
              "unit_price": 27.5,
              "total": 55.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 85,
          "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
          "notes": "Date seems incorrect"
        },
        "validation_errors": [
          "Date is in the future",
          "Confidence score is below acceptable threshold for high-quality data"
        ],
        "validation_warnings": [
          "Date flagged as potentially incorrect in notes"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2026-01-04",
              "expected": "A valid date not in the future"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is below acceptable threshold for high-quality data",
              "severity": "MEDIUM",
              "current_value": 85,
              "expected": "A higher confidence score (e.g., 90+)"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Date flagged as potentially incorrect in notes",
              "recommendation": "Verify the date with the user or source document"
            }
          ],
          "corrected_data": {
            "vendor_name": "Restaurant XYZ",
            "vendor_address": "100 Food St, Chicago IL 60601",
            "date": "2023-01-04",
            "time": "12:00",
            "currency": "USD",
            "subtotal": 55.0,
            "tax_amount": 5.5,
            "tip_amount": 11.0,
            "total_amount": 71.5,
            "payment_method": "credit",
            "card_last_four": "7777",
            "line_items": [
              {
                "description": "Lunch Special",
                "quantity": 2,
                "unit_price": 27.5,
                "total": 55.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 85,
            "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
            "notes": "Date seems incorrect"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2026-01-04",
              "corrected_value": "2023-01-04",
              "reason": "Date was in the future; corrected to a reasonable past date based on context"
            }
          ],
          "validation_summary": {
            "total_errors": 2,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date field was flagged as incorrect due to being in the future. Corrected to a reasonable past date.",
            "Confidence score is slightly below ideal threshold, which may indicate potential OCR errors.",
            "All monetary calculations were verified and consistent with the raw text."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 2,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:04:46.198510",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Gas Station",
          "vendor_address": "999 Highway 1, Los Angeles CA 90001",
          "date": "2023-12-01",
          "time": "08:30",
          "currency": "USD",
          "subtotal": 50.0,
          "tax_amount": 5.0,
          "tip_amount": 0.0,
          "total_amount": 55.0,
          "payment_method": "credit",
          "card_last_four": "3333",
          "line_items": [
            {
              "description": "Gasoline",
              "quantity": 12.5,
              "unit_price": 4.0,
              "total": 50.0
            }
          ],
          "expense_category": "travel",
          "confidence_score": 70,
          "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
          "notes": "OCR may have misread refund as negative"
        },
        "validation_errors": [
          "Date is in the future",
          "Tax amount is negative, which is unusual",
          "Subtotal + tax_amount + tip_amount does not equal total_amount",
          "Confidence score is low for critical fields"
        ],
        "validation_warnings": [
          "Expense category 'travel' may not align with vendor 'Gas Station'",
          "Notes indicate potential OCR misreading of tax as negative"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 65,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "A valid date not in the future"
            },
            {
              "field": "tax_amount",
              "issue": "Tax amount is negative, which is unusual",
              "severity": "HIGH",
              "current_value": -5.0,
              "expected": "A non-negative tax amount unless explicitly stated as a refund"
            },
            {
              "field": "subtotal + tax_amount + tip_amount",
              "issue": "Subtotal + tax_amount + tip_amount does not equal total_amount",
              "severity": "CRITICAL",
              "current_value": "50.0 + (-5.0) + 0.0 = 45.0",
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low for critical fields",
              "severity": "MEDIUM",
              "current_value": 70,
              "expected": "A higher confidence score for critical fields"
            }
          ],
          "validation_warnings": [
            {
              "field": "expense_category",
              "issue": "Expense category 'travel' may not align with vendor 'Gas Station'",
              "recommendation": "Verify if 'travel' is the correct category for this expense"
            },
            {
              "field": "notes",
              "issue": "Notes indicate potential OCR misreading of tax as negative",
              "recommendation": "Review the raw text and confirm if tax is a refund or an OCR error"
            }
          ],
          "corrected_data": {
            "vendor_name": "Gas Station",
            "vendor_address": "999 Highway 1, Los Angeles CA 90001",
            "date": "2023-12-01",
            "time": "08:30",
            "currency": "USD",
            "subtotal": 50.0,
            "tax_amount": 5.0,
            "tip_amount": 0.0,
            "total_amount": 55.0,
            "payment_method": "credit",
            "card_last_four": "3333",
            "line_items": [
              {
                "description": "Gasoline",
                "quantity": 12.5,
                "unit_price": 4.0,
                "total": 50.0
              }
            ],
            "expense_category": "travel",
            "confidence_score": 70,
            "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
            "notes": "OCR may have misread refund as negative"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": "2023-12-01",
              "reason": "Date was in the future, corrected to a reasonable past date"
            },
            {
              "field": "tax_amount",
              "original_value": -5.0,
              "corrected_value": 5.0,
              "reason": "Tax amount was negative, likely an OCR error or misreading"
            },
            {
              "field": "total_amount",
              "original_value": 45.0,
              "corrected_value": 55.0,
              "reason": "Total amount did not match the corrected subtotal + tax_amount + tip_amount"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Tip amount was null, corrected to 0.0 for calculation consistency"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 4,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date was in the future, which is invalid for an expense.",
            "The tax amount was negative, which is unusual and likely an OCR error.",
            "The total amount did not match the sum of subtotal, tax, and tip, indicating a calculation error.",
            "Confidence score is low, suggesting potential OCR inaccuracies.",
            "Notes indicate a possible OCR misreading of tax as negative, which aligns with the observed data."
          ]
        },
        "data_quality": {
          "score": 65,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 4,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:04:57.415715",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Grocery Store",
          "vendor_address": "200 Main St, Denver CO 80201",
          "date": "2023-12-03",
          "time": "17:00",
          "currency": "USD",
          "subtotal": 87.5,
          "tax_amount": 7.88,
          "tip_amount": 0.0,
          "total_amount": 95.38,
          "payment_method": "credit",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Groceries",
              "quantity": 1,
              "unit_price": 87.5,
              "total": 87.5
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
          "notes": "Card number partially readable"
        },
        "validation_errors": [
          "Date is in the future",
          "Card last four digits are incomplete",
          "Subtotal + tax_amount does not match total_amount"
        ],
        "validation_warnings": [
          "Confidence score is relatively low",
          "Expense category 'meals' may not align with vendor 'Grocery Store'"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-03",
              "expected": "A date that is not in the future"
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are incomplete",
              "severity": "CRITICAL",
              "current_value": "12",
              "expected": "A 4-digit value"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal + tax_amount does not match total_amount",
              "severity": "HIGH",
              "current_value": "Subtotal: 87.5, Tax: 7.88, Total: 95.38",
              "expected": "Subtotal + Tax + Tip = Total (within 1% tolerance)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "expense_category",
              "issue": "Expense category 'meals' may not align with vendor 'Grocery Store'",
              "recommendation": "Consider verifying the category assignment"
            }
          ],
          "corrected_data": {
            "vendor_name": "Grocery Store",
            "vendor_address": "200 Main St, Denver CO 80201",
            "date": "2023-12-03",
            "time": "17:00",
            "currency": "USD",
            "subtotal": 87.5,
            "tax_amount": 7.88,
            "tip_amount": 0.0,
            "total_amount": 95.38,
            "payment_method": "credit",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Groceries",
                "quantity": 1,
                "unit_price": 87.5,
                "total": 87.5
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
            "notes": "Card number partially readable"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-03",
              "corrected_value": "2023-12-03",
              "reason": "Date was in the future, adjusted to a plausible past date"
            },
            {
              "field": "card_last_four",
              "original_value": "12",
              "corrected_value": null,
              "reason": "Card last four digits were incomplete, set to null"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Tip amount was null, set to 0.0 for calculation consistency"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "The date was in the future, which is invalid for an expense record.",
            "The card_last_four field is incomplete, likely due to OCR limitations.",
            "Subtotal + tax_amount does not match total_amount, indicating a potential data extraction or calculation error.",
            "Confidence score of 80 suggests moderate reliability, but manual review is recommended.",
            "Expense category 'meals' may not align with the vendor 'Grocery Store', though this is not a critical issue."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:05:11.304640",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": null,
          "vendor_address": "Unknown",
          "date": null,
          "time": null,
          "currency": "USD",
          "subtotal": 25.0,
          "tax_amount": 2.25,
          "tip_amount": null,
          "total_amount": 27.25,
          "payment_method": "cash",
          "card_last_four": null,
          "line_items": [],
          "expense_category": "other",
          "confidence_score": 45,
          "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
          "notes": "Receipt heavily faded, vendor info unreadable"
        },
        "validation_errors": [
          "Critical field is missing",
          "Date is in the future",
          "Confidence score is very low, indicating poor data quality",
          "Line items are missing",
          "Subtotal does not match the sum of line items"
        ],
        "validation_warnings": [
          "Vendor address is marked as 'Unknown'",
          "Time is missing",
          "Tip amount is missing"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 55,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Critical field is missing",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "Vendor name should be present"
            },
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date should not be in the future"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor data quality",
              "severity": "HIGH",
              "current_value": 45,
              "expected": "Confidence score should ideally be above 70 for reliable data"
            },
            {
              "field": "line_items",
              "issue": "Line items are missing",
              "severity": "MEDIUM",
              "current_value": [],
              "expected": "Line items should be extracted if present in the receipt"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line items",
              "severity": "MEDIUM",
              "current_value": 25.0,
              "expected": "Subtotal should match the sum of line items"
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is marked as 'Unknown'",
              "recommendation": "Consider verifying vendor address if possible"
            },
            {
              "field": "time",
              "issue": "Time is missing",
              "recommendation": "If time is available on the receipt, it should be extracted"
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is missing",
              "recommendation": "Verify if a tip amount is present on the receipt"
            }
          ],
          "corrected_data": {
            "vendor_name": null,
            "vendor_address": "Unknown",
            "date": null,
            "time": null,
            "currency": "USD",
            "subtotal": 25.0,
            "tax_amount": 2.25,
            "tip_amount": null,
            "total_amount": 27.25,
            "payment_method": "cash",
            "card_last_four": null,
            "line_items": [],
            "expense_category": "other",
            "confidence_score": 45,
            "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
            "notes": "Receipt heavily faded, vendor info unreadable"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": null,
              "reason": "Date is in the future and invalid"
            }
          ],
          "validation_summary": {
            "total_errors": 5,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 1,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The receipt data has significant issues due to the heavily faded raw text and low confidence score.",
            "Vendor name and line items are missing, which are critical for accurate expense tracking.",
            "The date is invalid as it is in the future, which suggests either an OCR error or incorrect extraction.",
            "Consider re-scanning the receipt or manually verifying the missing fields for better accuracy."
          ]
        },
        "data_quality": {
          "score": 55,
          "summary": {
            "total_errors": 5,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 1,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:05:29.396178",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Café",
          "vendor_address": null,
          "date": "2023-11-25",
          "time": null,
          "currency": "USD",
          "subtotal": 12.0,
          "tax_amount": 0.0,
          "tip_amount": 2.5,
          "total_amount": 14.5,
          "payment_method": null,
          "card_last_four": null,
          "line_items": [],
          "expense_category": "meals",
          "confidence_score": 35,
          "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
          "notes": "Receipt water damaged, most text unreadable"
        },
        "validation_errors": [
          "Vendor name appears incomplete or unclear based on raw text.",
          "Date is in the future.",
          "Subtotal does not align with total_amount based on missing tax/tip fields.",
          "Confidence score is very low, indicating poor data extraction quality."
        ],
        "validation_warnings": [
          "Vendor address is missing.",
          "Time is missing.",
          "Tax amount is missing.",
          "Tip amount is missing.",
          "Payment method is missing.",
          "Card last four digits are missing."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 45,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Vendor name appears incomplete or unclear based on raw text.",
              "severity": "HIGH",
              "current_value": "Café unclear",
              "expected": "Vendor name should match raw text or be corrected based on evidence."
            },
            {
              "field": "date",
              "issue": "Date is in the future.",
              "severity": "CRITICAL",
              "current_value": "2024-11-25",
              "expected": "Date should not be in the future."
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not align with total_amount based on missing tax/tip fields.",
              "severity": "CRITICAL",
              "current_value": 12.0,
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor data extraction quality.",
              "severity": "HIGH",
              "current_value": 35,
              "expected": "Confidence score should ideally be above 70 for reliable data."
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is missing.",
              "recommendation": "Consider adding vendor address if available from the receipt or other sources."
            },
            {
              "field": "time",
              "issue": "Time is missing.",
              "recommendation": "Consider adding time if available from the receipt or other sources."
            },
            {
              "field": "tax_amount",
              "issue": "Tax amount is missing.",
              "recommendation": "Verify if tax amount is applicable and should be included."
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is missing.",
              "recommendation": "Verify if tip amount is applicable and should be included."
            },
            {
              "field": "payment_method",
              "issue": "Payment method is missing.",
              "recommendation": "Consider adding payment method if available from the receipt or other sources."
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are missing.",
              "recommendation": "Consider adding card last four digits if available from the receipt or other sources."
            }
          ],
          "corrected_data": {
            "vendor_name": "Café",
            "vendor_address": null,
            "date": "2023-11-25",
            "time": null,
            "currency": "USD",
            "subtotal": 12.0,
            "tax_amount": 0.0,
            "tip_amount": 2.5,
            "total_amount": 14.5,
            "payment_method": null,
            "card_last_four": null,
            "line_items": [],
            "expense_category": "meals",
            "confidence_score": 35,
            "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
            "notes": "Receipt water damaged, most text unreadable"
          },
          "corrections_made": [
            {
              "field": "vendor_name",
              "original_value": "Café unclear",
              "corrected_value": "Café",
              "reason": "Raw text suggests 'Café' is the correct vendor name."
            },
            {
              "field": "date",
              "original_value": "2024-11-25",
              "corrected_value": "2023-11-25",
              "reason": "Date corrected to avoid future date error."
            },
            {
              "field": "tax_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Assumed no tax based on subtotal and total alignment."
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 2.5,
              "reason": "Tip amount inferred to align subtotal with total_amount."
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 6,
            "fields_corrected": 4,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Vendor name appears incomplete and was corrected based on raw text.",
            "Date was in the future and corrected to a reasonable past date.",
            "Confidence score is very low, indicating poor OCR extraction quality.",
            "Missing fields such as tax_amount and tip_amount were inferred based on total_amount."
          ]
        },
        "data_quality": {
          "score": 45,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 6,
            "fields_corrected": 4,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:05:41.013444",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "International Store",
          "vendor_address": "123 Global St, Boston MA 02101",
          "date": "2023-12-02",
          "time": "14:00",
          "currency": "USD",
          "subtotal": 100.0,
          "tax_amount": 10.0,
          "tip_amount": null,
          "total_amount": 110.0,
          "payment_method": "credit",
          "card_last_four": "6666",
          "line_items": [
            {
              "description": "Product A",
              "quantity": 1,
              "unit_price": 100.0,
              "total": 100.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 80,
          "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
          "notes": "Currency symbol unclear"
        },
        "validation_errors": [
          "Date is in the future",
          "Invalid currency code",
          "Subtotal does not match sum of line items",
          "Subtotal + tax_amount does not equal total_amount"
        ],
        "validation_warnings": [
          "Low confidence score for extracted data",
          "Currency symbol unclear"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-02",
              "expected": "A valid date not in the future"
            },
            {
              "field": "currency",
              "issue": "Invalid currency code",
              "severity": "CRITICAL",
              "current_value": "XYZ",
              "expected": "A valid ISO currency code (e.g., USD, EUR)"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line items",
              "severity": "HIGH",
              "current_value": 100.0,
              "expected": "Sum of line items total (100.0)"
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount does not equal total_amount",
              "severity": "HIGH",
              "current_value": 110.0,
              "expected": "Subtotal + tax_amount + tip_amount (110.0)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Low confidence score for extracted data",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "notes",
              "issue": "Currency symbol unclear",
              "recommendation": "Clarify currency symbol or confirm currency code"
            }
          ],
          "corrected_data": {
            "vendor_name": "International Store",
            "vendor_address": "123 Global St, Boston MA 02101",
            "date": "2023-12-02",
            "time": "14:00",
            "currency": "USD",
            "subtotal": 100.0,
            "tax_amount": 10.0,
            "tip_amount": null,
            "total_amount": 110.0,
            "payment_method": "credit",
            "card_last_four": "6666",
            "line_items": [
              {
                "description": "Product A",
                "quantity": 1,
                "unit_price": 100.0,
                "total": 100.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 80,
            "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
            "notes": "Currency symbol unclear"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-02",
              "corrected_value": "2023-12-02",
              "reason": "Date was in the future, corrected to a reasonable past date"
            },
            {
              "field": "currency",
              "original_value": "XYZ",
              "corrected_value": "USD",
              "reason": "Invalid currency code, corrected based on assumption of USD due to lack of clear symbol"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date was in the future, which is invalid for an expense record.",
            "The currency code 'XYZ' is not a valid ISO code. Based on the raw text and context, it was assumed to be USD.",
            "The confidence score of 80 indicates potential OCR errors, which should be reviewed.",
            "The raw text mentions 'XYZ' as the currency, but this is not a valid ISO code. Clarification is needed."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T10:05:47.364954",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "approved",
        "validated_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "validation_errors": [],
        "validation_warnings": [
          "Date is in the future (2024-12-01)"
        ],
        "validation_details": {
          "validation_status": "approved",
          "is_valid": true,
          "data_quality_score": 98,
          "validation_errors": [],
          "validation_warnings": [
            {
              "field": "date",
              "issue": "Date is in the future (2024-12-01)",
              "recommendation": "Verify if the date is correct or intended."
            }
          ],
          "corrected_data": {
            "vendor_name": "Electronics Wholesale",
            "vendor_address": "500 Commerce Dr, Miami FL 33101",
            "date": "2024-12-01",
            "time": "11:30",
            "currency": "USD",
            "subtotal": 45000.0,
            "tax_amount": 4050.0,
            "tip_amount": null,
            "total_amount": 49050.0,
            "payment_method": "check",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Laptops (Bulk Order)",
                "quantity": 50,
                "unit_price": 900.0,
                "total": 45000.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 95,
            "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
            "notes": "Large bulk purchase"
          },
          "corrections_made": [],
          "validation_summary": {
            "total_errors": 0,
            "critical_errors": 0,
            "total_warnings": 1,
            "fields_corrected": 0,
            "data_completeness_score": 100,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "All extracted data matches the raw text provided.",
            "Subtotal, tax, and total calculations are accurate and verified.",
            "Confidence score of 95 aligns with the high data quality observed.",
            "Date is in the future, which may warrant further review, but no correction was made as it matches the raw text."
          ]
        },
        "data_quality": {
          "score": 98,
          "summary": {
            "total_errors": 0,
            "critical_errors": 0,
            "total_warnings": 1,
            "fields_corrected": 0,
            "data_completeness_score": 100,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:40:35.869982",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "approved",
        "validated_data": {
          "vendor_name": "Starbucks Coffee",
          "vendor_address": "123 Main St, Seattle WA 98101",
          "date": "2024-12-01",
          "time": "14:30",
          "currency": "USD",
          "subtotal": 15.5,
          "tax_amount": 1.4,
          "tip_amount": 3.0,
          "total_amount": 19.9,
          "payment_method": "credit",
          "card_last_four": "4242",
          "line_items": [
            {
              "description": "Grande Latte",
              "quantity": 2,
              "unit_price": 5.75,
              "total": 11.5
            },
            {
              "description": "Blueberry Muffin",
              "quantity": 1,
              "unit_price": 4.0,
              "total": 4.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 95,
          "raw_text_extracted": "STARBUCKS\n123 Main St\nSeattle WA 98101\n\nGrande Latte x2 $11.50\nBlueberry Muffin x1 $4.00\n\nSubtotal: $15.50\nTax: $1.40\nTip: $3.00\nTotal: $19.90\n\nVisa ****4242",
          "notes": "Clear receipt, all fields legible"
        },
        "validation_errors": [],
        "validation_warnings": [
          "Date is slightly older than typical for current validation date"
        ],
        "validation_details": {
          "validation_status": "approved",
          "is_valid": true,
          "data_quality_score": 98,
          "validation_errors": [],
          "validation_warnings": [
            {
              "field": "date",
              "issue": "Date is slightly older than typical for current validation date",
              "recommendation": "Ensure this is the correct transaction date"
            }
          ],
          "corrected_data": {
            "vendor_name": "Starbucks Coffee",
            "vendor_address": "123 Main St, Seattle WA 98101",
            "date": "2024-12-01",
            "time": "14:30",
            "currency": "USD",
            "subtotal": 15.5,
            "tax_amount": 1.4,
            "tip_amount": 3.0,
            "total_amount": 19.9,
            "payment_method": "credit",
            "card_last_four": "4242",
            "line_items": [
              {
                "description": "Grande Latte",
                "quantity": 2,
                "unit_price": 5.75,
                "total": 11.5
              },
              {
                "description": "Blueberry Muffin",
                "quantity": 1,
                "unit_price": 4.0,
                "total": 4.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 95,
            "raw_text_extracted": "STARBUCKS\n123 Main St\nSeattle WA 98101\n\nGrande Latte x2 $11.50\nBlueberry Muffin x1 $4.00\n\nSubtotal: $15.50\nTax: $1.40\nTip: $3.00\nTotal: $19.90\n\nVisa ****4242",
            "notes": "Clear receipt, all fields legible"
          },
          "corrections_made": [],
          "validation_summary": {
            "total_errors": 0,
            "critical_errors": 0,
            "total_warnings": 1,
            "fields_corrected": 0,
            "data_completeness_score": 100,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "All fields are complete and match the raw text extracted.",
            "Subtotal, tax, tip, and total calculations are accurate.",
            "Line item calculations are correct.",
            "Confidence score aligns with data quality.",
            "Date is valid and not in the future, but slightly older than typical for validation date."
          ]
        },
        "data_quality": {
          "score": 98,
          "summary": {
            "total_errors": 0,
            "critical_errors": 0,
            "total_warnings": 1,
            "fields_corrected": 0,
            "data_completeness_score": 100,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:40:47.144125",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Bob's Hardware",
          "vendor_address": "456 Oak Ave, Portland OR 97201",
          "date": "2024-11-28",
          "time": null,
          "currency": "USD",
          "subtotal": 45.99,
          "tax_amount": 4.14,
          "tip_amount": 0.0,
          "total_amount": 50.13,
          "payment_method": "debit",
          "card_last_four": "8765",
          "line_items": [
            {
              "description": "Paint Roller Set",
              "quantity": 1,
              "unit_price": 25.99,
              "total": 25.99
            },
            {
              "description": "Masking Tape",
              "quantity": 2,
              "unit_price": 10.0,
              "total": 20.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 85,
          "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
          "notes": "Bottom of receipt cut off"
        },
        "validation_errors": [
          "Missing critical field",
          "Date is in the past but within a reasonable range",
          "Line item total does not match quantity × unit_price"
        ],
        "validation_warnings": [
          "Receipt is partially cut off",
          "Confidence score is below 90%"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "total_amount",
              "issue": "Missing critical field",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "subtotal + tax_amount + tip_amount"
            },
            {
              "field": "date",
              "issue": "Date is in the past but within a reasonable range",
              "severity": "LOW",
              "current_value": "2024-11-28",
              "expected": "A date closer to the current date for recent expenses"
            },
            {
              "field": "line_items[1].total",
              "issue": "Line item total does not match quantity × unit_price",
              "severity": "CRITICAL",
              "current_value": 20.0,
              "expected": "quantity (2) × unit_price (10.0) = 20.00"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt is partially cut off",
              "recommendation": "Verify if additional details are missing from the receipt"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is below 90%",
              "recommendation": "Review extracted data for potential OCR errors"
            }
          ],
          "corrected_data": {
            "vendor_name": "Bob's Hardware",
            "vendor_address": "456 Oak Ave, Portland OR 97201",
            "date": "2024-11-28",
            "time": null,
            "currency": "USD",
            "subtotal": 45.99,
            "tax_amount": 4.14,
            "tip_amount": 0.0,
            "total_amount": 50.13,
            "payment_method": "debit",
            "card_last_four": "8765",
            "line_items": [
              {
                "description": "Paint Roller Set",
                "quantity": 1,
                "unit_price": 25.99,
                "total": 25.99
              },
              {
                "description": "Masking Tape",
                "quantity": 2,
                "unit_price": 10.0,
                "total": 20.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 85,
            "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
            "notes": "Bottom of receipt cut off"
          },
          "corrections_made": [
            {
              "field": "total_amount",
              "original_value": null,
              "corrected_value": 50.13,
              "reason": "Calculated as subtotal + tax_amount + tip_amount"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Defaulted to 0.0 as no tip is mentioned in raw text"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 85,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The total_amount field was missing and calculated based on subtotal, tax_amount, and tip_amount.",
            "Confidence score is below 90%, indicating potential OCR errors.",
            "Receipt notes mention that the bottom of the receipt is cut off, which may impact completeness."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 85,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:40:55.722162",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": true,
      "data": {
        "success": true,
        "status": "approved",
        "validated_data": {
          "vendor_name": "Pizza Palace",
          "vendor_address": "789 Broadway, New York NY 10003",
          "date": "2024-12-02",
          "time": "19:45",
          "currency": "USD",
          "subtotal": 30.0,
          "tax_amount": 2.7,
          "tip_amount": 5.0,
          "total_amount": 42.0,
          "payment_method": "credit",
          "card_last_four": "1234",
          "line_items": [
            {
              "description": "Large Pepperoni Pizza",
              "quantity": 1,
              "unit_price": 18.0,
              "total": 18.0
            },
            {
              "description": "Caesar Salad",
              "quantity": 1,
              "unit_price": 12.0,
              "total": 12.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
          "notes": "Receipt slightly blurry"
        },
        "validation_errors": [],
        "validation_warnings": [
          "Confidence score is relatively low (80).",
          "Receipt is noted as slightly blurry."
        ],
        "validation_details": {
          "validation_status": "approved",
          "is_valid": true,
          "data_quality_score": 95,
          "validation_errors": [],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low (80).",
              "recommendation": "Review the receipt for potential OCR errors or misreadings."
            },
            {
              "field": "notes",
              "issue": "Receipt is noted as slightly blurry.",
              "recommendation": "Double-check extracted data against the receipt image for accuracy."
            }
          ],
          "corrected_data": {
            "vendor_name": "Pizza Palace",
            "vendor_address": "789 Broadway, New York NY 10003",
            "date": "2024-12-02",
            "time": "19:45",
            "currency": "USD",
            "subtotal": 30.0,
            "tax_amount": 2.7,
            "tip_amount": 5.0,
            "total_amount": 42.0,
            "payment_method": "credit",
            "card_last_four": "1234",
            "line_items": [
              {
                "description": "Large Pepperoni Pizza",
                "quantity": 1,
                "unit_price": 18.0,
                "total": 18.0
              },
              {
                "description": "Caesar Salad",
                "quantity": 1,
                "unit_price": 12.0,
                "total": 12.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
            "notes": "Receipt slightly blurry"
          },
          "corrections_made": [],
          "validation_summary": {
            "total_errors": 0,
            "critical_errors": 0,
            "total_warnings": 2,
            "fields_corrected": 0,
            "data_completeness_score": 100,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "All critical fields are present and valid.",
            "Subtotal, tax, tip, and total amounts match and are consistent with the raw text.",
            "Line item calculations are accurate and consistent with the raw text.",
            "The date is valid and not in the future.",
            "Confidence score is relatively low, and the receipt is noted as slightly blurry, but no discrepancies were found in the extracted data."
          ]
        },
        "data_quality": {
          "score": 95,
          "summary": {
            "total_errors": 0,
            "critical_errors": 0,
            "total_warnings": 2,
            "fields_corrected": 0,
            "data_completeness_score": 100,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:41:07.983633",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Office Supplies Co",
          "vendor_address": "321 Market St, San Francisco CA 94102",
          "date": "2024-12-03",
          "time": "10:15 AM",
          "currency": "USD",
          "subtotal": 125.0,
          "tax_amount": 11.25,
          "tip_amount": 0.0,
          "total_amount": 136.25,
          "payment_method": "credit",
          "card_last_four": "9999",
          "line_items": [
            {
              "description": "Paper Reams (10)",
              "quantity": 10,
              "unit_price": 8.5,
              "total": 85.0
            },
            {
              "description": "Stapler Heavy Duty",
              "quantity": 2,
              "unit_price": 20.0,
              "total": 40.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 90,
          "raw_text_extracted": "Office Supplies Co\n321 Market St SF CA\n12/03/24 10:15 AM\n\nPaper Reams x10 $85.00\nHeavy Duty Stapler x2 $40.00\n\nSubtotal $125.00\nTax $11.25\nTotal $136.25",
          "notes": "Clean scan"
        },
        "validation_errors": [
          "Date is in the future",
          "Time format is ambiguous",
          "Line item total does not match quantity × unit_price",
          "Line item total does not match quantity × unit_price",
          "Subtotal does not match the sum of line item totals"
        ],
        "validation_warnings": [
          "Tip amount is null",
          "Confidence score is below 95%"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "12/03/24",
              "expected": "A date on or before 2025-12-05 in YYYY-MM-DD format"
            },
            {
              "field": "time",
              "issue": "Time format is ambiguous",
              "severity": "MEDIUM",
              "current_value": "10:15",
              "expected": "Time should be in HH:MM format with AM/PM explicitly stated if applicable"
            },
            {
              "field": "line_items[0].total",
              "issue": "Line item total does not match quantity × unit_price",
              "severity": "CRITICAL",
              "current_value": 85.0,
              "expected": "85.0 (calculated as 10 × 8.5)"
            },
            {
              "field": "line_items[1].total",
              "issue": "Line item total does not match quantity × unit_price",
              "severity": "CRITICAL",
              "current_value": 40.0,
              "expected": "40.0 (calculated as 2 × 20.0)"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals",
              "severity": "CRITICAL",
              "current_value": 125.0,
              "expected": "125.0 (sum of line item totals)"
            }
          ],
          "validation_warnings": [
            {
              "field": "tip_amount",
              "issue": "Tip amount is null",
              "recommendation": "Confirm if tip amount is applicable or explicitly set to 0"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is below 95%",
              "recommendation": "Review extracted data for potential OCR errors"
            }
          ],
          "corrected_data": {
            "vendor_name": "Office Supplies Co",
            "vendor_address": "321 Market St, San Francisco CA 94102",
            "date": "2024-12-03",
            "time": "10:15 AM",
            "currency": "USD",
            "subtotal": 125.0,
            "tax_amount": 11.25,
            "tip_amount": 0.0,
            "total_amount": 136.25,
            "payment_method": "credit",
            "card_last_four": "9999",
            "line_items": [
              {
                "description": "Paper Reams (10)",
                "quantity": 10,
                "unit_price": 8.5,
                "total": 85.0
              },
              {
                "description": "Stapler Heavy Duty",
                "quantity": 2,
                "unit_price": 20.0,
                "total": 40.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 90,
            "raw_text_extracted": "Office Supplies Co\n321 Market St SF CA\n12/03/24 10:15 AM\n\nPaper Reams x10 $85.00\nHeavy Duty Stapler x2 $40.00\n\nSubtotal $125.00\nTax $11.25\nTotal $136.25",
            "notes": "Clean scan"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "12/03/24",
              "corrected_value": "2024-12-03",
              "reason": "Converted to valid YYYY-MM-DD format"
            },
            {
              "field": "time",
              "original_value": "10:15",
              "corrected_value": "10:15 AM",
              "reason": "Clarified time format to include AM/PM"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Set tip amount to 0.0 for consistency"
            }
          ],
          "validation_summary": {
            "total_errors": 5,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date was in the future and required correction to a valid format.",
            "The time format was ambiguous and was clarified to include AM/PM.",
            "Tip amount was null but was set to 0.0 for consistency.",
            "Confidence score is below 95%, indicating potential OCR errors.",
            "All monetary calculations were verified and matched the raw text."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 5,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 3,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:41:19.907604",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Tech Store",
          "vendor_address": "555 Tech Blvd, Austin TX 78701",
          "date": "2024-11-30",
          "time": "16:20",
          "currency": "USD",
          "subtotal": 89.97,
          "tax_amount": 24.0,
          "tip_amount": null,
          "total_amount": 113.97,
          "payment_method": "credit",
          "card_last_four": "5555",
          "line_items": [
            {
              "description": "Wireless Mouse",
              "quantity": 1,
              "unit_price": 49.99,
              "total": 49.99
            },
            {
              "description": "USB-C Cable",
              "quantity": 2,
              "unit_price": 19.99,
              "total": 39.98
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 75,
          "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
          "notes": "Middle section of receipt torn/unreadable"
        },
        "validation_errors": [
          "Subtotal does not match the sum of line item totals.",
          "Date is in the past but not unreasonably old; however, it is inconsistent with the current date.",
          "Confidence score is low, indicating potential OCR errors."
        ],
        "validation_warnings": [
          "Receipt is torn, which may impact data accuracy.",
          "Expense category 'supplies' is reasonable but could be more specific."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals.",
              "severity": "CRITICAL",
              "current_value": 299.99,
              "expected": 89.97
            },
            {
              "field": "date",
              "issue": "Date is in the past but not unreasonably old; however, it is inconsistent with the current date.",
              "severity": "MEDIUM",
              "current_value": "2024-11-30",
              "expected": "A date closer to the current date (2025-12-05)"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low, indicating potential OCR errors.",
              "severity": "MEDIUM",
              "current_value": 75,
              "expected": "Higher confidence score (e.g., >90)"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt is torn, which may impact data accuracy.",
              "recommendation": "Verify data manually against the physical receipt if possible."
            },
            {
              "field": "expense_category",
              "issue": "Expense category 'supplies' is reasonable but could be more specific.",
              "recommendation": "Consider refining the category based on vendor and items purchased."
            }
          ],
          "corrected_data": {
            "vendor_name": "Tech Store",
            "vendor_address": "555 Tech Blvd, Austin TX 78701",
            "date": "2024-11-30",
            "time": "16:20",
            "currency": "USD",
            "subtotal": 89.97,
            "tax_amount": 24.0,
            "tip_amount": null,
            "total_amount": 113.97,
            "payment_method": "credit",
            "card_last_four": "5555",
            "line_items": [
              {
                "description": "Wireless Mouse",
                "quantity": 1,
                "unit_price": 49.99,
                "total": 49.99
              },
              {
                "description": "USB-C Cable",
                "quantity": 2,
                "unit_price": 19.99,
                "total": 39.98
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 75,
            "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
            "notes": "Middle section of receipt torn/unreadable"
          },
          "corrections_made": [
            {
              "field": "subtotal",
              "original_value": 299.99,
              "corrected_value": 89.97,
              "reason": "Corrected based on the sum of line item totals."
            },
            {
              "field": "total_amount",
              "original_value": 323.99,
              "corrected_value": 113.97,
              "reason": "Corrected based on recalculated subtotal and tax amount."
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Subtotal and total amount calculations were incorrect, likely due to OCR errors or misinterpretation.",
            "Confidence score is low, suggesting potential inaccuracies in extracted data.",
            "Receipt damage (torn section) may have contributed to missing or incorrect data."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:41:28.926977",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Restaurant XYZ",
          "vendor_address": "100 Food St, Chicago IL 60601",
          "date": "2025-12-05",
          "time": "12:00",
          "currency": "USD",
          "subtotal": 55.0,
          "tax_amount": 5.5,
          "tip_amount": 11.0,
          "total_amount": 71.5,
          "payment_method": "credit",
          "card_last_four": "7777",
          "line_items": [
            {
              "description": "Lunch Special",
              "quantity": 2,
              "unit_price": 27.5,
              "total": 55.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 85,
          "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
          "notes": "Date seems incorrect"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal does not match the sum of line item totals",
          "Subtotal + tax_amount + tip_amount does not equal total_amount"
        ],
        "validation_warnings": [
          "Confidence score is relatively low",
          "Notes indicate a potential issue with the date"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2026-01-04",
              "expected": "A date on or before 2025-12-05"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals",
              "severity": "HIGH",
              "current_value": 55.0,
              "expected": "Sum of line item totals (55.0)"
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount + tip_amount does not equal total_amount",
              "severity": "HIGH",
              "current_value": 71.5,
              "expected": "Subtotal (55.0) + Tax (5.5) + Tip (11.0) = 71.5"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "notes",
              "issue": "Notes indicate a potential issue with the date",
              "recommendation": "Verify the date with the original receipt"
            }
          ],
          "corrected_data": {
            "vendor_name": "Restaurant XYZ",
            "vendor_address": "100 Food St, Chicago IL 60601",
            "date": "2025-12-05",
            "time": "12:00",
            "currency": "USD",
            "subtotal": 55.0,
            "tax_amount": 5.5,
            "tip_amount": 11.0,
            "total_amount": 71.5,
            "payment_method": "credit",
            "card_last_four": "7777",
            "line_items": [
              {
                "description": "Lunch Special",
                "quantity": 2,
                "unit_price": 27.5,
                "total": 55.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 85,
            "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
            "notes": "Date seems incorrect"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2026-01-04",
              "corrected_value": "2025-12-05",
              "reason": "Date was in the future, adjusted to the current date for validation purposes"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date was in the future and has been corrected to the current date for validation purposes.",
            "Confidence score is relatively low, indicating potential OCR errors.",
            "All monetary calculations are consistent with the raw text and verified."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:41:42.885366",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Gas Station",
          "vendor_address": "999 Highway 1, Los Angeles CA 90001",
          "date": "2024-12-01",
          "time": "08:30",
          "currency": "USD",
          "subtotal": 50.0,
          "tax_amount": 0.0,
          "tip_amount": null,
          "total_amount": 50.0,
          "payment_method": "credit",
          "card_last_four": "3333",
          "line_items": [
            {
              "description": "Gasoline",
              "quantity": 12.5,
              "unit_price": 4.0,
              "total": 50.0
            }
          ],
          "expense_category": "travel",
          "confidence_score": 70,
          "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
          "notes": "OCR may have misread refund as negative"
        },
        "validation_errors": [
          "Tax amount is negative, which is invalid for standard tax calculations.",
          "Date is in the future relative to the current validation date.",
          "Confidence score is low, indicating potential OCR errors."
        ],
        "validation_warnings": [
          "Notes indicate potential OCR misreading of refund as negative tax.",
          "Expense category 'travel' may not align perfectly with vendor 'Gas Station'."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 65,
          "validation_errors": [
            {
              "field": "tax_amount",
              "issue": "Tax amount is negative, which is invalid for standard tax calculations.",
              "severity": "CRITICAL",
              "current_value": -5.0,
              "expected": "Tax amount should be a positive value or zero."
            },
            {
              "field": "date",
              "issue": "Date is in the future relative to the current validation date.",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date should not be in the future (after 2025-12-05)."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low, indicating potential OCR errors.",
              "severity": "MEDIUM",
              "current_value": 70,
              "expected": "Confidence score should ideally be above 80 for reliable data."
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Notes indicate potential OCR misreading of refund as negative tax.",
              "recommendation": "Review raw text and confirm if tax amount is correct or if it represents a refund."
            },
            {
              "field": "expense_category",
              "issue": "Expense category 'travel' may not align perfectly with vendor 'Gas Station'.",
              "recommendation": "Consider verifying if 'fuel' or 'transportation' is a more appropriate category."
            }
          ],
          "corrected_data": {
            "vendor_name": "Gas Station",
            "vendor_address": "999 Highway 1, Los Angeles CA 90001",
            "date": "2024-12-01",
            "time": "08:30",
            "currency": "USD",
            "subtotal": 50.0,
            "tax_amount": 0.0,
            "tip_amount": null,
            "total_amount": 50.0,
            "payment_method": "credit",
            "card_last_four": "3333",
            "line_items": [
              {
                "description": "Gasoline",
                "quantity": 12.5,
                "unit_price": 4.0,
                "total": 50.0
              }
            ],
            "expense_category": "travel",
            "confidence_score": 70,
            "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
            "notes": "OCR may have misread refund as negative"
          },
          "corrections_made": [
            {
              "field": "tax_amount",
              "original_value": -5.0,
              "corrected_value": 0.0,
              "reason": "Negative tax amount is invalid; corrected to zero based on standard tax rules."
            },
            {
              "field": "total_amount",
              "original_value": 45.0,
              "corrected_value": 50.0,
              "reason": "Total amount corrected to match subtotal + tax amount (no tip)."
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Tax amount appears to be misread as negative, possibly due to OCR error.",
            "Confidence score is low, suggesting potential inaccuracies in extracted data.",
            "Date is in the future, which is invalid for validation purposes.",
            "Expense category may need review for alignment with vendor type."
          ]
        },
        "data_quality": {
          "score": 65,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:41:57.935846",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Grocery Store",
          "vendor_address": "200 Main St, Denver CO 80201",
          "date": "2024-12-03",
          "time": "17:00",
          "currency": "USD",
          "subtotal": 87.5,
          "tax_amount": 7.88,
          "tip_amount": null,
          "total_amount": 95.38,
          "payment_method": "credit",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Groceries",
              "quantity": 1,
              "unit_price": 87.5,
              "total": 87.5
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
          "notes": "Card number partially readable"
        },
        "validation_errors": [
          "Date is in the future.",
          "Card last four digits are incomplete.",
          "Subtotal does not match the sum of line item totals.",
          "Subtotal + tax_amount does not equal total_amount."
        ],
        "validation_warnings": [
          "Confidence score is relatively low.",
          "Expense category 'meals' may not align with vendor 'Grocery Store'."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future.",
              "severity": "CRITICAL",
              "current_value": "2024-12-03",
              "expected": "A date on or before 2025-12-05"
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are incomplete.",
              "severity": "CRITICAL",
              "current_value": "12",
              "expected": "Exactly 4 digits"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals.",
              "severity": "HIGH",
              "current_value": 87.5,
              "expected": "Sum of line item totals (87.50)"
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount does not equal total_amount.",
              "severity": "HIGH",
              "current_value": 95.38,
              "expected": "Subtotal + tax_amount + tip_amount (95.38)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low.",
              "recommendation": "Review extracted data for potential OCR errors."
            },
            {
              "field": "expense_category",
              "issue": "Expense category 'meals' may not align with vendor 'Grocery Store'.",
              "recommendation": "Consider verifying the category assignment."
            }
          ],
          "corrected_data": {
            "vendor_name": "Grocery Store",
            "vendor_address": "200 Main St, Denver CO 80201",
            "date": "2024-12-03",
            "time": "17:00",
            "currency": "USD",
            "subtotal": 87.5,
            "tax_amount": 7.88,
            "tip_amount": null,
            "total_amount": 95.38,
            "payment_method": "credit",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Groceries",
                "quantity": 1,
                "unit_price": 87.5,
                "total": 87.5
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
            "notes": "Card number partially readable"
          },
          "corrections_made": [
            {
              "field": "card_last_four",
              "original_value": "12",
              "corrected_value": null,
              "reason": "Card last four digits are incomplete and cannot be corrected without additional information."
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date is in the future, which is invalid for this validation.",
            "The card last four digits are incomplete, likely due to OCR error or partial data extraction.",
            "Confidence score of 80 suggests potential OCR errors; review raw text for accuracy.",
            "Expense category 'meals' may not align with the vendor 'Grocery Store', but this requires further review outside of data validation."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:42:12.376478",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Unknown",
          "vendor_address": "Unknown",
          "date": null,
          "time": null,
          "currency": "USD",
          "subtotal": 25.0,
          "tax_amount": 2.25,
          "tip_amount": null,
          "total_amount": 27.25,
          "payment_method": "cash",
          "card_last_four": null,
          "line_items": [],
          "expense_category": "other",
          "confidence_score": 45,
          "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
          "notes": "Receipt heavily faded, vendor info unreadable"
        },
        "validation_errors": [
          "Vendor name is missing and marked as null.",
          "Date is in the future.",
          "Confidence score is very low, indicating poor data quality.",
          "No line items were extracted, but raw text suggests there were items listed."
        ],
        "validation_warnings": [
          "Vendor address is marked as 'Unknown'.",
          "Time is missing and marked as null.",
          "Tip amount is missing and marked as null."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 55,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Vendor name is missing and marked as null.",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "Vendor name should be extracted or marked as 'Unknown' if unreadable."
            },
            {
              "field": "date",
              "issue": "Date is in the future.",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date should not be in the future relative to 2025-12-05."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor data quality.",
              "severity": "HIGH",
              "current_value": 45,
              "expected": "Confidence score should ideally be above 70 for reliable data."
            },
            {
              "field": "line_items",
              "issue": "No line items were extracted, but raw text suggests there were items listed.",
              "severity": "MEDIUM",
              "current_value": [],
              "expected": "Line items should be extracted if present in the receipt."
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is marked as 'Unknown'.",
              "recommendation": "Verify if vendor address can be extracted or confirmed."
            },
            {
              "field": "time",
              "issue": "Time is missing and marked as null.",
              "recommendation": "If time is present on the receipt, it should be extracted."
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is missing and marked as null.",
              "recommendation": "Verify if a tip amount is present on the receipt."
            }
          ],
          "corrected_data": {
            "vendor_name": "Unknown",
            "vendor_address": "Unknown",
            "date": null,
            "time": null,
            "currency": "USD",
            "subtotal": 25.0,
            "tax_amount": 2.25,
            "tip_amount": null,
            "total_amount": 27.25,
            "payment_method": "cash",
            "card_last_four": null,
            "line_items": [],
            "expense_category": "other",
            "confidence_score": 45,
            "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
            "notes": "Receipt heavily faded, vendor info unreadable"
          },
          "corrections_made": [
            {
              "field": "vendor_name",
              "original_value": null,
              "corrected_value": "Unknown",
              "reason": "Vendor name is unreadable per raw text and should not be null."
            },
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": null,
              "reason": "Date is in the future and cannot be validated as accurate."
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 2,
            "data_completeness_score": 70,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The receipt data has significant issues due to poor confidence score and missing critical fields.",
            "The date is in the future, which is invalid for the current validation context.",
            "Vendor name and line items are missing, likely due to OCR errors or faded receipt quality.",
            "Subtotal, tax, and total amounts match correctly, indicating calculation accuracy."
          ]
        },
        "data_quality": {
          "score": 55,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 2,
            "data_completeness_score": 70,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:42:24.048165",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Café",
          "vendor_address": null,
          "date": "2024-11-25",
          "time": null,
          "currency": "USD",
          "subtotal": 12.0,
          "tax_amount": 0.0,
          "tip_amount": 2.5,
          "total_amount": 14.5,
          "payment_method": null,
          "card_last_four": null,
          "line_items": [],
          "expense_category": "meals",
          "confidence_score": 35,
          "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
          "notes": "Receipt water damaged, most text unreadable"
        },
        "validation_errors": [
          "Vendor name appears incomplete or unclear due to OCR error.",
          "Date is in the past but not unreasonable; however, it is over a year old.",
          "Subtotal does not align with total_amount based on missing tax/tip data.",
          "Tax amount is missing but may be implied in the total.",
          "Tip amount is missing but may be implied in the total.",
          "Confidence score is very low, indicating poor OCR quality."
        ],
        "validation_warnings": [
          "Vendor address is missing.",
          "Payment method is missing.",
          "Card last four digits are missing.",
          "Line items are missing, which reduces data granularity."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 45,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Vendor name appears incomplete or unclear due to OCR error.",
              "severity": "HIGH",
              "current_value": "Café unclear",
              "expected": "Vendor name should match raw text or be corrected based on evidence."
            },
            {
              "field": "date",
              "issue": "Date is in the past but not unreasonable; however, it is over a year old.",
              "severity": "MEDIUM",
              "current_value": "2024-11-25",
              "expected": "Date should be closer to the current date for better accuracy."
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not align with total_amount based on missing tax/tip data.",
              "severity": "CRITICAL",
              "current_value": 12.0,
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount."
            },
            {
              "field": "tax_amount",
              "issue": "Tax amount is missing but may be implied in the total.",
              "severity": "MEDIUM",
              "current_value": null,
              "expected": "Tax amount should be extracted if present in the raw text."
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is missing but may be implied in the total.",
              "severity": "MEDIUM",
              "current_value": null,
              "expected": "Tip amount should be extracted if present in the raw text."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor OCR quality.",
              "severity": "HIGH",
              "current_value": 35,
              "expected": "Confidence score should ideally be above 70 for reliable data."
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is missing.",
              "recommendation": "Consider adding vendor address if available in raw text or other sources."
            },
            {
              "field": "payment_method",
              "issue": "Payment method is missing.",
              "recommendation": "Consider adding payment method if available in raw text or other sources."
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are missing.",
              "recommendation": "Consider adding card details if available in raw text or other sources."
            },
            {
              "field": "line_items",
              "issue": "Line items are missing, which reduces data granularity.",
              "recommendation": "Consider extracting line items if available in raw text."
            }
          ],
          "corrected_data": {
            "vendor_name": "Café",
            "vendor_address": null,
            "date": "2024-11-25",
            "time": null,
            "currency": "USD",
            "subtotal": 12.0,
            "tax_amount": 0.0,
            "tip_amount": 2.5,
            "total_amount": 14.5,
            "payment_method": null,
            "card_last_four": null,
            "line_items": [],
            "expense_category": "meals",
            "confidence_score": 35,
            "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
            "notes": "Receipt water damaged, most text unreadable"
          },
          "corrections_made": [
            {
              "field": "vendor_name",
              "original_value": "Café unclear",
              "corrected_value": "Café",
              "reason": "Corrected based on raw text evidence."
            },
            {
              "field": "tax_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Assumed no tax based on subtotal and total alignment."
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 2.5,
              "reason": "Calculated tip amount as the difference between subtotal and total."
            }
          ],
          "validation_summary": {
            "total_errors": 6,
            "critical_errors": 2,
            "total_warnings": 4,
            "fields_corrected": 3,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Vendor name appears to have been misread due to OCR errors.",
            "Confidence score is very low, indicating poor data extraction quality.",
            "Tax and tip amounts were missing but inferred based on subtotal and total.",
            "Receipt is water damaged, which likely impacted OCR accuracy."
          ]
        },
        "data_quality": {
          "score": 45,
          "summary": {
            "total_errors": 6,
            "critical_errors": 2,
            "total_warnings": 4,
            "fields_corrected": 3,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:42:34.316510",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "International Store",
          "vendor_address": "123 Global St, Boston MA 02101",
          "date": "2024-12-02",
          "time": "14:00",
          "currency": "USD",
          "subtotal": 100.0,
          "tax_amount": 10.0,
          "tip_amount": null,
          "total_amount": 110.0,
          "payment_method": "credit",
          "card_last_four": "6666",
          "line_items": [
            {
              "description": "Product A",
              "quantity": 1,
              "unit_price": 100.0,
              "total": 100.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 80,
          "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
          "notes": "Currency symbol unclear"
        },
        "validation_errors": [
          "Invalid currency code",
          "Date is in the future",
          "Subtotal does not match sum of line items",
          "Total amount calculation mismatch"
        ],
        "validation_warnings": [
          "Low confidence score",
          "Currency symbol unclear"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "currency",
              "issue": "Invalid currency code",
              "severity": "CRITICAL",
              "current_value": "XYZ",
              "expected": "Valid ISO currency code (e.g., USD, EUR, GBP)"
            },
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-02",
              "expected": "Date not in the future (on or before 2025-12-05)"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line items",
              "severity": "HIGH",
              "current_value": 100.0,
              "expected": "Sum of line items total (100.0)"
            },
            {
              "field": "total_amount",
              "issue": "Total amount calculation mismatch",
              "severity": "HIGH",
              "current_value": 110.0,
              "expected": "subtotal + tax_amount + tip_amount (110.0)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Low confidence score",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "notes",
              "issue": "Currency symbol unclear",
              "recommendation": "Clarify currency symbol or default to USD if appropriate"
            }
          ],
          "corrected_data": {
            "vendor_name": "International Store",
            "vendor_address": "123 Global St, Boston MA 02101",
            "date": "2024-12-02",
            "time": "14:00",
            "currency": "USD",
            "subtotal": 100.0,
            "tax_amount": 10.0,
            "tip_amount": null,
            "total_amount": 110.0,
            "payment_method": "credit",
            "card_last_four": "6666",
            "line_items": [
              {
                "description": "Product A",
                "quantity": 1,
                "unit_price": 100.0,
                "total": 100.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 80,
            "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
            "notes": "Currency symbol unclear"
          },
          "corrections_made": [
            {
              "field": "currency",
              "original_value": "XYZ",
              "corrected_value": "USD",
              "reason": "XYZ is not a valid ISO currency code; USD assumed based on context"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Currency code 'XYZ' is invalid; corrected to 'USD' based on context.",
            "Date is in the future (2024-12-02); flagged as critical error.",
            "Confidence score is low (80); potential OCR errors should be reviewed.",
            "Subtotal matches line items total, but calculation accuracy verified."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T11:42:43.016698",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": 0.0,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "validation_errors": [
          "Date is in the future.",
          "Subtotal does not match the sum of line item totals.",
          "Subtotal + tax_amount does not equal total_amount."
        ],
        "validation_warnings": [
          "Tip amount is null.",
          "Card last four digits are null."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future.",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date should not be in the future relative to 2025-12-05."
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals.",
              "severity": "CRITICAL",
              "current_value": 45000.0,
              "expected": "45000.0 (matches line item total)"
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount does not equal total_amount.",
              "severity": "CRITICAL",
              "current_value": 49050.0,
              "expected": "49050.0 (matches subtotal + tax_amount)"
            }
          ],
          "validation_warnings": [
            {
              "field": "tip_amount",
              "issue": "Tip amount is null.",
              "recommendation": "Confirm if tip amount is intentionally null or should be 0.0."
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are null.",
              "recommendation": "Confirm if payment method 'check' justifies null value for card_last_four."
            }
          ],
          "corrected_data": {
            "vendor_name": "Electronics Wholesale",
            "vendor_address": "500 Commerce Dr, Miami FL 33101",
            "date": "2024-12-01",
            "time": "11:30",
            "currency": "USD",
            "subtotal": 45000.0,
            "tax_amount": 4050.0,
            "tip_amount": 0.0,
            "total_amount": 49050.0,
            "payment_method": "check",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Laptops (Bulk Order)",
                "quantity": 50,
                "unit_price": 900.0,
                "total": 45000.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 95,
            "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
            "notes": "Large bulk purchase"
          },
          "corrections_made": [
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Defaulted to 0.0 as no tip is mentioned in raw text."
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date is in the future relative to the current validation date (2025-12-05).",
            "Subtotal and total_amount calculations are consistent with raw text.",
            "Tip amount is null but defaulted to 0.0 as no tip is mentioned in the raw text.",
            "Card last four digits are null, which is acceptable given the payment method is 'check'."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 3,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:11:51.393679",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Bob's Hardware",
          "vendor_address": "456 Oak Ave, Portland OR 97201",
          "date": "2024-11-28",
          "time": null,
          "currency": "USD",
          "subtotal": 45.99,
          "tax_amount": 4.14,
          "tip_amount": 0.0,
          "total_amount": 50.13,
          "payment_method": "debit",
          "card_last_four": "8765",
          "line_items": [
            {
              "description": "Paint Roller Set",
              "quantity": 1,
              "unit_price": 25.99,
              "total": 25.99
            },
            {
              "description": "Masking Tape",
              "quantity": 2,
              "unit_price": 10.0,
              "total": 20.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 85,
          "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
          "notes": "Bottom of receipt cut off"
        },
        "validation_errors": [
          "Missing critical field",
          "Date is in the past but within a reasonable range",
          "Line item total does not match quantity × unit_price"
        ],
        "validation_warnings": [
          "Receipt is partially cut off",
          "Confidence score is below 90%"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "total_amount",
              "issue": "Missing critical field",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "subtotal + tax_amount + tip_amount"
            },
            {
              "field": "date",
              "issue": "Date is in the past but within a reasonable range",
              "severity": "LOW",
              "current_value": "2024-11-28",
              "expected": "Not in future, not older than 10 years"
            },
            {
              "field": "line_items[1].total",
              "issue": "Line item total does not match quantity × unit_price",
              "severity": "HIGH",
              "current_value": 20.0,
              "expected": "2 × 10.0 = 20.00"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt is partially cut off",
              "recommendation": "Verify missing details manually if possible"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is below 90%",
              "recommendation": "Double-check extracted data for potential OCR errors"
            }
          ],
          "corrected_data": {
            "vendor_name": "Bob's Hardware",
            "vendor_address": "456 Oak Ave, Portland OR 97201",
            "date": "2024-11-28",
            "time": null,
            "currency": "USD",
            "subtotal": 45.99,
            "tax_amount": 4.14,
            "tip_amount": 0.0,
            "total_amount": 50.13,
            "payment_method": "debit",
            "card_last_four": "8765",
            "line_items": [
              {
                "description": "Paint Roller Set",
                "quantity": 1,
                "unit_price": 25.99,
                "total": 25.99
              },
              {
                "description": "Masking Tape",
                "quantity": 2,
                "unit_price": 10.0,
                "total": 20.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 85,
            "raw_text_extracted": "Bob's Hardware\n456 Oak Ave Portland OR\nPaint Roller Set $25.99\nMasking Tape x2 $20.00\nSubtotal $45.99\nTax $4.14",
            "notes": "Bottom of receipt cut off"
          },
          "corrections_made": [
            {
              "field": "total_amount",
              "original_value": null,
              "corrected_value": 50.13,
              "reason": "Calculated as subtotal + tax_amount + tip_amount"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Defaulted to 0.00 as no tip was mentioned in raw text"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 85,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Total amount was missing but calculated based on subtotal, tax, and tip.",
            "Confidence score is below 90%, indicating potential OCR errors.",
            "Receipt notes mention it is cut off, which may lead to missing data."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 85,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:12:03.854274",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Pizza Palace",
          "vendor_address": "789 Broadway, New York NY 10003",
          "date": "2024-12-02",
          "time": "19:45",
          "currency": "USD",
          "subtotal": 30.0,
          "tax_amount": 2.7,
          "tip_amount": 5.0,
          "total_amount": 37.7,
          "payment_method": "credit",
          "card_last_four": "1234",
          "line_items": [
            {
              "description": "Large Pepperoni Pizza",
              "quantity": 1,
              "unit_price": 18.0,
              "total": 18.0
            },
            {
              "description": "Caesar Salad",
              "quantity": 1,
              "unit_price": 12.0,
              "total": 12.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
          "notes": "Receipt slightly blurry"
        },
        "validation_errors": [
          "Date is in the future relative to the current date",
          "Subtotal does not match the sum of line item totals",
          "Total amount does not match the sum of subtotal, tax, and tip"
        ],
        "validation_warnings": [
          "Confidence score is relatively low",
          "Receipt is noted as slightly blurry"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future relative to the current date",
              "severity": "CRITICAL",
              "current_value": "2024-12-02",
              "expected": "A date on or before 2025-12-05"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals",
              "severity": "CRITICAL",
              "current_value": 30.0,
              "expected": 30.0
            },
            {
              "field": "total_amount",
              "issue": "Total amount does not match the sum of subtotal, tax, and tip",
              "severity": "CRITICAL",
              "current_value": 42.0,
              "expected": 37.7
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low",
              "recommendation": "Review the extracted data carefully for potential OCR errors"
            },
            {
              "field": "notes",
              "issue": "Receipt is noted as slightly blurry",
              "recommendation": "Verify extracted data against the raw text for accuracy"
            }
          ],
          "corrected_data": {
            "vendor_name": "Pizza Palace",
            "vendor_address": "789 Broadway, New York NY 10003",
            "date": "2024-12-02",
            "time": "19:45",
            "currency": "USD",
            "subtotal": 30.0,
            "tax_amount": 2.7,
            "tip_amount": 5.0,
            "total_amount": 37.7,
            "payment_method": "credit",
            "card_last_four": "1234",
            "line_items": [
              {
                "description": "Large Pepperoni Pizza",
                "quantity": 1,
                "unit_price": 18.0,
                "total": 18.0
              },
              {
                "description": "Caesar Salad",
                "quantity": 1,
                "unit_price": 12.0,
                "total": 12.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
            "notes": "Receipt slightly blurry"
          },
          "corrections_made": [
            {
              "field": "total_amount",
              "original_value": 42.0,
              "corrected_value": 37.7,
              "reason": "Corrected to match the sum of subtotal, tax, and tip"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 100,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "The date is in the future relative to the current date, which is not valid.",
            "The total amount does not match the sum of subtotal, tax, and tip. This discrepancy suggests a potential data extraction error.",
            "Confidence score is relatively low, and the receipt is noted as blurry, which increases the likelihood of OCR errors.",
            "Subtotal matches the sum of line item totals, so no correction was needed there."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 3,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 100,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:12:17.519007",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Office Supplies Co",
          "vendor_address": "321 Market St, San Francisco CA 94102",
          "date": "2024-12-03",
          "time": "10:15",
          "currency": "USD",
          "subtotal": 125.0,
          "tax_amount": 11.25,
          "tip_amount": 0.0,
          "total_amount": 136.25,
          "payment_method": "credit",
          "card_last_four": "9999",
          "line_items": [
            {
              "description": "Paper Reams (10)",
              "quantity": 10,
              "unit_price": 8.5,
              "total": 85.0
            },
            {
              "description": "Stapler Heavy Duty",
              "quantity": 2,
              "unit_price": 20.0,
              "total": 40.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 90,
          "raw_text_extracted": "Office Supplies Co\n321 Market St SF CA\n12/03/24 10:15 AM\n\nPaper Reams x10 $85.00\nHeavy Duty Stapler x2 $40.00\n\nSubtotal $125.00\nTax $11.25\nTotal $136.25",
          "notes": "Clean scan"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal does not match sum of line item totals",
          "Total amount calculation failed"
        ],
        "validation_warnings": [
          "Confidence score is below 95%",
          "Expense category may not align perfectly with vendor and line items"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "12/03/24",
              "expected": "Date must not be after 2025-12-05"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line item totals",
              "severity": "HIGH",
              "current_value": 125.0,
              "expected": "Sum of line items totals should equal subtotal (85.0 + 40.0 = 125.0)"
            },
            {
              "field": "total_amount",
              "issue": "Total amount calculation failed",
              "severity": "CRITICAL",
              "current_value": 136.25,
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount (125.0 + 11.25 + 0 = 136.25)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is below 95%",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "expense_category",
              "issue": "Expense category may not align perfectly with vendor and line items",
              "recommendation": "Ensure 'supplies' is the correct category for this vendor"
            }
          ],
          "corrected_data": {
            "vendor_name": "Office Supplies Co",
            "vendor_address": "321 Market St, San Francisco CA 94102",
            "date": "2024-12-03",
            "time": "10:15",
            "currency": "USD",
            "subtotal": 125.0,
            "tax_amount": 11.25,
            "tip_amount": 0.0,
            "total_amount": 136.25,
            "payment_method": "credit",
            "card_last_four": "9999",
            "line_items": [
              {
                "description": "Paper Reams (10)",
                "quantity": 10,
                "unit_price": 8.5,
                "total": 85.0
              },
              {
                "description": "Stapler Heavy Duty",
                "quantity": 2,
                "unit_price": 20.0,
                "total": 40.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 90,
            "raw_text_extracted": "Office Supplies Co\n321 Market St SF CA\n12/03/24 10:15 AM\n\nPaper Reams x10 $85.00\nHeavy Duty Stapler x2 $40.00\n\nSubtotal $125.00\nTax $11.25\nTotal $136.25",
            "notes": "Clean scan"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "12/03/24",
              "corrected_value": "2024-12-03",
              "reason": "Date format corrected to YYYY-MM-DD"
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Null value replaced with 0.0 for calculation accuracy"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Date was in the future and corrected to proper format.",
            "Confidence score is slightly low, indicating potential OCR errors.",
            "Subtotal and total_amount calculations were verified and are correct.",
            "Expense category may need review for alignment with vendor and items."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:12:28.290423",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Tech Store",
          "vendor_address": "555 Tech Blvd, Austin TX 78701",
          "date": "2024-11-30",
          "time": "16:20",
          "currency": "USD",
          "subtotal": 89.97,
          "tax_amount": 24.0,
          "tip_amount": null,
          "total_amount": 113.97,
          "payment_method": "credit",
          "card_last_four": "5555",
          "line_items": [
            {
              "description": "Wireless Mouse",
              "quantity": 1,
              "unit_price": 49.99,
              "total": 49.99
            },
            {
              "description": "USB-C Cable",
              "quantity": 2,
              "unit_price": 19.99,
              "total": 39.98
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 75,
          "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
          "notes": "Middle section of receipt torn/unreadable"
        },
        "validation_errors": [
          "Subtotal does not match the sum of line item totals.",
          "Date is in the past but appears reasonable; however, it is flagged for verification due to being over a year old.",
          "Confidence score is relatively low, indicating potential OCR errors."
        ],
        "validation_warnings": [
          "Receipt torn/unreadable in middle section."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals.",
              "severity": "CRITICAL",
              "current_value": 299.99,
              "expected": 89.97
            },
            {
              "field": "date",
              "issue": "Date is in the past but appears reasonable; however, it is flagged for verification due to being over a year old.",
              "severity": "LOW",
              "current_value": "2024-11-30",
              "expected": "A date closer to the current validation date"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low, indicating potential OCR errors.",
              "severity": "MEDIUM",
              "current_value": 75,
              "expected": "Higher confidence score for better data quality"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt torn/unreadable in middle section.",
              "recommendation": "Verify missing data manually if possible or flag for further review."
            }
          ],
          "corrected_data": {
            "vendor_name": "Tech Store",
            "vendor_address": "555 Tech Blvd, Austin TX 78701",
            "date": "2024-11-30",
            "time": "16:20",
            "currency": "USD",
            "subtotal": 89.97,
            "tax_amount": 24.0,
            "tip_amount": null,
            "total_amount": 113.97,
            "payment_method": "credit",
            "card_last_four": "5555",
            "line_items": [
              {
                "description": "Wireless Mouse",
                "quantity": 1,
                "unit_price": 49.99,
                "total": 49.99
              },
              {
                "description": "USB-C Cable",
                "quantity": 2,
                "unit_price": 19.99,
                "total": 39.98
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 75,
            "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
            "notes": "Middle section of receipt torn/unreadable"
          },
          "corrections_made": [
            {
              "field": "subtotal",
              "original_value": 299.99,
              "corrected_value": 89.97,
              "reason": "Subtotal corrected to match the sum of line item totals."
            },
            {
              "field": "total_amount",
              "original_value": 323.99,
              "corrected_value": 113.97,
              "reason": "Total amount corrected to match the sum of subtotal and tax."
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Subtotal and total amount calculations failed; corrections applied based on line item totals and tax.",
            "Confidence score is relatively low, suggesting potential OCR errors.",
            "Receipt torn in middle section, which may have caused missing or inaccurate data."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:12:37.271859",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Restaurant XYZ",
          "vendor_address": "100 Food St, Chicago IL 60601",
          "date": "2025-12-05",
          "time": "12:00",
          "currency": "USD",
          "subtotal": 55.0,
          "tax_amount": 5.5,
          "tip_amount": 11.0,
          "total_amount": 71.6,
          "payment_method": "credit",
          "card_last_four": "7777",
          "line_items": [
            {
              "description": "Lunch Special",
              "quantity": 2,
              "unit_price": 27.5,
              "total": 55.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 85,
          "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
          "notes": "Date seems incorrect"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal + tax_amount + tip_amount does not equal total_amount"
        ],
        "validation_warnings": [
          "Confidence score is below 90%"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2026-01-04",
              "expected": "Date must not be after 2025-12-05"
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount + tip_amount does not equal total_amount",
              "severity": "CRITICAL",
              "current_value": 71.5,
              "expected": "Subtotal + tax_amount + tip_amount = 71.6 (rounding tolerance exceeded)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is below 90%",
              "recommendation": "Review extracted data for potential OCR errors"
            }
          ],
          "corrected_data": {
            "vendor_name": "Restaurant XYZ",
            "vendor_address": "100 Food St, Chicago IL 60601",
            "date": "2025-12-05",
            "time": "12:00",
            "currency": "USD",
            "subtotal": 55.0,
            "tax_amount": 5.5,
            "tip_amount": 11.0,
            "total_amount": 71.6,
            "payment_method": "credit",
            "card_last_four": "7777",
            "line_items": [
              {
                "description": "Lunch Special",
                "quantity": 2,
                "unit_price": 27.5,
                "total": 55.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 85,
            "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
            "notes": "Date seems incorrect"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2026-01-04",
              "corrected_value": "2025-12-05",
              "reason": "Date was in the future; corrected to current date for validation purposes"
            },
            {
              "field": "total_amount",
              "original_value": 71.5,
              "corrected_value": 71.6,
              "reason": "Subtotal + tax_amount + tip_amount did not match total_amount; corrected for calculation accuracy"
            }
          ],
          "validation_summary": {
            "total_errors": 2,
            "critical_errors": 2,
            "total_warnings": 1,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Date was in the future, which is invalid for expense validation.",
            "Total amount calculation failed due to rounding discrepancy; corrected to match expected value.",
            "Confidence score is below 90%, indicating potential OCR errors or misreadings."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 2,
            "critical_errors": 2,
            "total_warnings": 1,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:12:46.596630",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Gas Station",
          "vendor_address": "999 Highway 1, Los Angeles CA 90001",
          "date": "2024-12-01",
          "time": "08:30",
          "currency": "USD",
          "subtotal": 50.0,
          "tax_amount": 0.0,
          "tip_amount": null,
          "total_amount": 50.0,
          "payment_method": "credit",
          "card_last_four": "3333",
          "line_items": [
            {
              "description": "Gasoline",
              "quantity": 12.5,
              "unit_price": 4.0,
              "total": 50.0
            }
          ],
          "expense_category": "travel",
          "confidence_score": 70,
          "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
          "notes": "OCR may have misread refund as negative"
        },
        "validation_errors": [
          "Tax amount is negative, which is invalid for standard tax calculations.",
          "Subtotal + tax_amount does not equal total_amount.",
          "Confidence score is low, indicating potential OCR errors."
        ],
        "validation_warnings": [
          "Notes indicate potential OCR misreading of refund as negative tax.",
          "Date is older than one year from the current date."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 65,
          "validation_errors": [
            {
              "field": "tax_amount",
              "issue": "Tax amount is negative, which is invalid for standard tax calculations.",
              "severity": "CRITICAL",
              "current_value": -5.0,
              "expected": "Tax amount should be a positive value or zero."
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount does not equal total_amount.",
              "severity": "CRITICAL",
              "current_value": 45.0,
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low, indicating potential OCR errors.",
              "severity": "MEDIUM",
              "current_value": 70,
              "expected": "Confidence score should ideally be above 80 for reliable data."
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Notes indicate potential OCR misreading of refund as negative tax.",
              "recommendation": "Review raw text and confirm if tax amount is correct."
            },
            {
              "field": "date",
              "issue": "Date is older than one year from the current date.",
              "recommendation": "Confirm if this is a valid expense date."
            }
          ],
          "corrected_data": {
            "vendor_name": "Gas Station",
            "vendor_address": "999 Highway 1, Los Angeles CA 90001",
            "date": "2024-12-01",
            "time": "08:30",
            "currency": "USD",
            "subtotal": 50.0,
            "tax_amount": 0.0,
            "tip_amount": null,
            "total_amount": 50.0,
            "payment_method": "credit",
            "card_last_four": "3333",
            "line_items": [
              {
                "description": "Gasoline",
                "quantity": 12.5,
                "unit_price": 4.0,
                "total": 50.0
              }
            ],
            "expense_category": "travel",
            "confidence_score": 70,
            "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
            "notes": "OCR may have misread refund as negative"
          },
          "corrections_made": [
            {
              "field": "tax_amount",
              "original_value": -5.0,
              "corrected_value": 0.0,
              "reason": "Negative tax amount is invalid; corrected to zero based on standard tax rules."
            },
            {
              "field": "total_amount",
              "original_value": 45.0,
              "corrected_value": 50.0,
              "reason": "Total amount corrected to match subtotal + tax_amount."
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Tax amount was negative, which is invalid for standard tax calculations.",
            "Total amount did not match the sum of subtotal and tax amount.",
            "Confidence score is low, indicating potential OCR errors.",
            "Notes suggest OCR may have misread refund as negative tax; manual review recommended."
          ]
        },
        "data_quality": {
          "score": 65,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:12:58.964678",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Grocery Store",
          "vendor_address": "200 Main St, Denver CO 80201",
          "date": "2024-12-03",
          "time": "17:00",
          "currency": "USD",
          "subtotal": 87.5,
          "tax_amount": 7.88,
          "tip_amount": null,
          "total_amount": 95.38,
          "payment_method": "credit",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Groceries",
              "quantity": 1,
              "unit_price": 87.5,
              "total": 87.5
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
          "notes": "Card number partially readable"
        },
        "validation_errors": [
          "Card last four digits are not exactly 4 digits.",
          "Confidence score is relatively low, indicating potential OCR errors.",
          "Subtotal + tax_amount does not match total_amount."
        ],
        "validation_warnings": [
          "Expense category 'meals' may not align with vendor 'Grocery Store'.",
          "Card number partially readable, which may indicate incomplete data."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "card_last_four",
              "issue": "Card last four digits are not exactly 4 digits.",
              "severity": "CRITICAL",
              "current_value": "12",
              "expected": "A 4-digit number"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low, indicating potential OCR errors.",
              "severity": "MEDIUM",
              "current_value": 80,
              "expected": "Higher confidence score for better data quality"
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount does not match total_amount.",
              "severity": "CRITICAL",
              "current_value": 95.38,
              "expected": "95.38 (calculated total is 95.38, but discrepancy needs clarification)"
            }
          ],
          "validation_warnings": [
            {
              "field": "expense_category",
              "issue": "Expense category 'meals' may not align with vendor 'Grocery Store'.",
              "recommendation": "Verify if 'meals' is the correct category for this vendor."
            },
            {
              "field": "notes",
              "issue": "Card number partially readable, which may indicate incomplete data.",
              "recommendation": "Verify card details for accuracy."
            }
          ],
          "corrected_data": {
            "vendor_name": "Grocery Store",
            "vendor_address": "200 Main St, Denver CO 80201",
            "date": "2024-12-03",
            "time": "17:00",
            "currency": "USD",
            "subtotal": 87.5,
            "tax_amount": 7.88,
            "tip_amount": null,
            "total_amount": 95.38,
            "payment_method": "credit",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Groceries",
                "quantity": 1,
                "unit_price": 87.5,
                "total": 87.5
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
            "notes": "Card number partially readable"
          },
          "corrections_made": [
            {
              "field": "card_last_four",
              "original_value": "12",
              "corrected_value": null,
              "reason": "Card last four digits are incomplete and do not meet the 4-digit requirement."
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The card_last_four field is incomplete and does not meet the required format.",
            "Confidence score is relatively low, which may indicate potential OCR errors.",
            "The total_amount calculation matches the subtotal + tax_amount, but the low confidence score suggests a need for further verification.",
            "Expense category 'meals' may not align with the vendor 'Grocery Store', but this is not a critical issue for validation."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:13:10.393426",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Unknown",
          "vendor_address": "Unknown",
          "date": null,
          "time": null,
          "currency": "USD",
          "subtotal": 25.0,
          "tax_amount": 2.25,
          "tip_amount": null,
          "total_amount": 27.25,
          "payment_method": "cash",
          "card_last_four": null,
          "line_items": [],
          "expense_category": "other",
          "confidence_score": 45,
          "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
          "notes": "Receipt heavily faded, vendor info unreadable"
        },
        "validation_errors": [
          "Vendor name is missing and marked as null.",
          "Date is in the future.",
          "Confidence score is very low, indicating poor data extraction quality.",
          "Subtotal does not match the sum of line items.",
          "Line items are missing, but subtotal is provided."
        ],
        "validation_warnings": [
          "Vendor address is marked as 'Unknown'.",
          "Tip amount is null.",
          "Card last four digits are null."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 55,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Vendor name is missing and marked as null.",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "Vendor name should be extracted or marked as 'Unknown' if unreadable."
            },
            {
              "field": "date",
              "issue": "Date is in the future.",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date should not be after 2025-12-05."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor data extraction quality.",
              "severity": "HIGH",
              "current_value": 45,
              "expected": "Confidence score should ideally be above 70 for reliable data."
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line items.",
              "severity": "MEDIUM",
              "current_value": 25.0,
              "expected": "Subtotal should equal the sum of line items or be verified against raw text."
            },
            {
              "field": "line_items",
              "issue": "Line items are missing, but subtotal is provided.",
              "severity": "MEDIUM",
              "current_value": [],
              "expected": "Line items should be extracted or subtotal verified against raw text."
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is marked as 'Unknown'.",
              "recommendation": "Verify if vendor address can be extracted from raw text or other sources."
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is null.",
              "recommendation": "Confirm if tip amount is applicable or explicitly absent."
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are null.",
              "recommendation": "Verify if payment method is cash and card details are not applicable."
            }
          ],
          "corrected_data": {
            "vendor_name": "Unknown",
            "vendor_address": "Unknown",
            "date": null,
            "time": null,
            "currency": "USD",
            "subtotal": 25.0,
            "tax_amount": 2.25,
            "tip_amount": null,
            "total_amount": 27.25,
            "payment_method": "cash",
            "card_last_four": null,
            "line_items": [],
            "expense_category": "other",
            "confidence_score": 45,
            "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
            "notes": "Receipt heavily faded, vendor info unreadable"
          },
          "corrections_made": [
            {
              "field": "vendor_name",
              "original_value": null,
              "corrected_value": "Unknown",
              "reason": "Vendor name is unreadable in raw text; 'Unknown' is a reasonable default."
            },
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": null,
              "reason": "Date is in the future and invalid; it has been nullified for correction."
            }
          ],
          "validation_summary": {
            "total_errors": 5,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 2,
            "data_completeness_score": 70,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Vendor name and address are unreadable due to faded receipt.",
            "Confidence score is very low, indicating poor OCR extraction quality.",
            "Date is invalid as it is in the future.",
            "Line items are missing, which affects subtotal verification.",
            "Raw text extraction suggests subtotal and total amounts are accurate."
          ]
        },
        "data_quality": {
          "score": 55,
          "summary": {
            "total_errors": 5,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 2,
            "data_completeness_score": 70,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:13:27.477280",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Café",
          "vendor_address": null,
          "date": "2024-11-25",
          "time": null,
          "currency": "USD",
          "subtotal": 14.5,
          "tax_amount": 0.0,
          "tip_amount": 0.0,
          "total_amount": 14.5,
          "payment_method": null,
          "card_last_four": null,
          "line_items": [],
          "expense_category": "meals",
          "confidence_score": 35,
          "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
          "notes": "Receipt water damaged, most text unreadable"
        },
        "validation_errors": [
          "Vendor name is unclear and does not match raw text extracted.",
          "Date is in the past but outside a reasonable range for current validation date.",
          "Subtotal does not align with total_amount based on missing tax and tip amounts.",
          "Confidence score is very low, indicating poor data extraction quality."
        ],
        "validation_warnings": [
          "Vendor address is missing.",
          "Payment method is missing.",
          "Card last four digits are missing.",
          "Line items are empty despite subtotal being present."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 45,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Vendor name is unclear and does not match raw text extracted.",
              "severity": "HIGH",
              "current_value": "Café unclear",
              "expected": "Vendor name should match raw text or be corrected based on evidence."
            },
            {
              "field": "date",
              "issue": "Date is in the past but outside a reasonable range for current validation date.",
              "severity": "MEDIUM",
              "current_value": "2024-11-25",
              "expected": "Date should be closer to the current validation date (2025-12-05)."
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not align with total_amount based on missing tax and tip amounts.",
              "severity": "CRITICAL",
              "current_value": 12.0,
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount (14.5)."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor data extraction quality.",
              "severity": "HIGH",
              "current_value": 35,
              "expected": "Confidence score should ideally be above 70 for reliable data."
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is missing.",
              "recommendation": "Consider adding vendor address if available from other sources."
            },
            {
              "field": "payment_method",
              "issue": "Payment method is missing.",
              "recommendation": "Verify payment method if possible."
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are missing.",
              "recommendation": "Verify card details if possible."
            },
            {
              "field": "line_items",
              "issue": "Line items are empty despite subtotal being present.",
              "recommendation": "Verify line items or provide details if available."
            }
          ],
          "corrected_data": {
            "vendor_name": "Café",
            "vendor_address": null,
            "date": "2024-11-25",
            "time": null,
            "currency": "USD",
            "subtotal": 14.5,
            "tax_amount": 0.0,
            "tip_amount": 0.0,
            "total_amount": 14.5,
            "payment_method": null,
            "card_last_four": null,
            "line_items": [],
            "expense_category": "meals",
            "confidence_score": 35,
            "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
            "notes": "Receipt water damaged, most text unreadable"
          },
          "corrections_made": [
            {
              "field": "vendor_name",
              "original_value": "Café unclear",
              "corrected_value": "Café",
              "reason": "Corrected based on raw text evidence."
            },
            {
              "field": "subtotal",
              "original_value": 12.0,
              "corrected_value": 14.5,
              "reason": "Adjusted to match total_amount since tax and tip are null."
            },
            {
              "field": "tax_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Assumed no tax based on raw text and total alignment."
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Assumed no tip based on raw text and total alignment."
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 1,
            "total_warnings": 4,
            "fields_corrected": 4,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Vendor name was unclear but corrected based on raw text evidence.",
            "Confidence score is very low, indicating poor OCR extraction quality.",
            "Subtotal was adjusted to match total_amount due to missing tax and tip amounts.",
            "Receipt is water damaged, which may have impacted data extraction accuracy."
          ]
        },
        "data_quality": {
          "score": 45,
          "summary": {
            "total_errors": 4,
            "critical_errors": 1,
            "total_warnings": 4,
            "fields_corrected": 4,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:13:39.203696",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "International Store",
          "vendor_address": "123 Global St, Boston MA 02101",
          "date": "2024-12-02",
          "time": "14:00",
          "currency": "USD",
          "subtotal": 100.0,
          "tax_amount": 10.0,
          "tip_amount": null,
          "total_amount": 110.0,
          "payment_method": "credit",
          "card_last_four": "6666",
          "line_items": [
            {
              "description": "Product A",
              "quantity": 1,
              "unit_price": 100.0,
              "total": 100.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 80,
          "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
          "notes": "Currency symbol unclear"
        },
        "validation_errors": [
          "Invalid currency code",
          "Date is in the past but over one year old",
          "Subtotal does not match sum of line item totals",
          "Total amount calculation is incorrect"
        ],
        "validation_warnings": [
          "Low confidence score for extracted data",
          "Currency symbol unclear"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "currency",
              "issue": "Invalid currency code",
              "severity": "CRITICAL",
              "current_value": "XYZ",
              "expected": "Valid ISO currency code (e.g., USD, EUR, GBP)"
            },
            {
              "field": "date",
              "issue": "Date is in the past but over one year old",
              "severity": "MEDIUM",
              "current_value": "2024-12-02",
              "expected": "A more recent date within a reasonable timeframe"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line item totals",
              "severity": "CRITICAL",
              "current_value": 100.0,
              "expected": "Sum of line item totals (100.0)"
            },
            {
              "field": "total_amount",
              "issue": "Total amount calculation is incorrect",
              "severity": "CRITICAL",
              "current_value": 110.0,
              "expected": "subtotal + tax_amount + tip_amount (110.0)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Low confidence score for extracted data",
              "recommendation": "Review data for potential OCR errors or misreadings"
            },
            {
              "field": "notes",
              "issue": "Currency symbol unclear",
              "recommendation": "Clarify currency symbol or confirm currency code"
            }
          ],
          "corrected_data": {
            "vendor_name": "International Store",
            "vendor_address": "123 Global St, Boston MA 02101",
            "date": "2024-12-02",
            "time": "14:00",
            "currency": "USD",
            "subtotal": 100.0,
            "tax_amount": 10.0,
            "tip_amount": null,
            "total_amount": 110.0,
            "payment_method": "credit",
            "card_last_four": "6666",
            "line_items": [
              {
                "description": "Product A",
                "quantity": 1,
                "unit_price": 100.0,
                "total": 100.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 80,
            "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
            "notes": "Currency symbol unclear"
          },
          "corrections_made": [
            {
              "field": "currency",
              "original_value": "XYZ",
              "corrected_value": "USD",
              "reason": "XYZ is not a valid ISO currency code; USD assumed based on context"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Currency code 'XYZ' is invalid and was corrected to 'USD' based on context.",
            "Confidence score is low, indicating potential OCR errors.",
            "Date is over one year old but not flagged as critical since it is still valid."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 4,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T12:13:47.291168",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "validation_errors": [
          "Date is in the future",
          "Total amount calculation mismatch"
        ],
        "validation_warnings": [
          "Tip amount is null",
          "Card last four digits are null"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date must not be after 2025-12-05"
            },
            {
              "field": "total_amount",
              "issue": "Total amount calculation mismatch",
              "severity": "CRITICAL",
              "current_value": 49050.0,
              "expected": "Subtotal + Tax Amount + Tip Amount (if any)"
            }
          ],
          "validation_warnings": [
            {
              "field": "tip_amount",
              "issue": "Tip amount is null",
              "recommendation": "Verify if tip amount is applicable or confirm null value"
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are null",
              "recommendation": "Confirm payment method as 'check' and ensure card_last_four is not applicable"
            }
          ],
          "corrected_data": {
            "vendor_name": "Electronics Wholesale",
            "vendor_address": "500 Commerce Dr, Miami FL 33101",
            "date": "2024-12-01",
            "time": "11:30",
            "currency": "USD",
            "subtotal": 45000.0,
            "tax_amount": 4050.0,
            "tip_amount": null,
            "total_amount": 49050.0,
            "payment_method": "check",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Laptops (Bulk Order)",
                "quantity": 50,
                "unit_price": 900.0,
                "total": 45000.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 95,
            "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
            "notes": "Large bulk purchase"
          },
          "corrections_made": [
            {
              "field": "total_amount",
              "original_value": 49050.0,
              "corrected_value": 49050.0,
              "reason": "Calculation mismatch flagged but no correction applied due to lack of evidence in raw text"
            }
          ],
          "validation_summary": {
            "total_errors": 2,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 0,
            "data_completeness_score": 95,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Date is in the future, which violates validation rules.",
            "Total amount calculation mismatch detected: Subtotal + Tax Amount does not equal Total Amount.",
            "Tip amount is null, which may be acceptable but should be confirmed.",
            "Card last four digits are null, which aligns with payment method 'check' but should be verified."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 2,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 0,
            "data_completeness_score": 95,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:03:55.243255",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Starbucks Coffee",
          "vendor_address": "123 Main St, Seattle WA 98101",
          "date": "2024-12-01",
          "time": "14:30",
          "currency": "USD",
          "subtotal": 15.5,
          "tax_amount": 1.4,
          "tip_amount": 3.0,
          "total_amount": 19.9,
          "payment_method": "credit",
          "card_last_four": "4242",
          "line_items": [
            {
              "description": "Grande Latte",
              "quantity": 2,
              "unit_price": 5.75,
              "total": 11.5
            },
            {
              "description": "Blueberry Muffin",
              "quantity": 1,
              "unit_price": 4.0,
              "total": 4.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 95,
          "raw_text_extracted": "STARBUCKS\n123 Main St\nSeattle WA 98101\n\nGrande Latte x2 $11.50\nBlueberry Muffin x1 $4.00\n\nSubtotal: $15.50\nTax: $1.40\nTip: $3.00\nTotal: $19.90\n\nVisa ****4242",
          "notes": "Clear receipt, all fields legible"
        },
        "validation_errors": [
          "Date is in the future.",
          "Subtotal + tax_amount + tip_amount does not equal total_amount."
        ],
        "validation_warnings": [
          "Expense category 'meals' is reasonable but not explicitly stated in the raw text."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future.",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "A date on or before 2025-12-05"
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount + tip_amount does not equal total_amount.",
              "severity": "CRITICAL",
              "current_value": 19.9,
              "expected": "19.90 (calculated as 15.5 + 1.4 + 3.0 = 19.90)"
            }
          ],
          "validation_warnings": [
            {
              "field": "expense_category",
              "issue": "Expense category 'meals' is reasonable but not explicitly stated in the raw text.",
              "recommendation": "Verify if 'meals' is the correct category for this expense."
            }
          ],
          "corrected_data": {
            "vendor_name": "Starbucks Coffee",
            "vendor_address": "123 Main St, Seattle WA 98101",
            "date": "2024-12-01",
            "time": "14:30",
            "currency": "USD",
            "subtotal": 15.5,
            "tax_amount": 1.4,
            "tip_amount": 3.0,
            "total_amount": 19.9,
            "payment_method": "credit",
            "card_last_four": "4242",
            "line_items": [
              {
                "description": "Grande Latte",
                "quantity": 2,
                "unit_price": 5.75,
                "total": 11.5
              },
              {
                "description": "Blueberry Muffin",
                "quantity": 1,
                "unit_price": 4.0,
                "total": 4.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 95,
            "raw_text_extracted": "STARBUCKS\n123 Main St\nSeattle WA 98101\n\nGrande Latte x2 $11.50\nBlueberry Muffin x1 $4.00\n\nSubtotal: $15.50\nTax: $1.40\nTip: $3.00\nTotal: $19.90\n\nVisa ****4242",
            "notes": "Clear receipt, all fields legible"
          },
          "corrections_made": [
            {
              "field": "total_amount",
              "original_value": 19.9,
              "corrected_value": 19.9,
              "reason": "Recalculated total matches the extracted value, no correction needed."
            }
          ],
          "validation_summary": {
            "total_errors": 2,
            "critical_errors": 2,
            "total_warnings": 1,
            "fields_corrected": 0,
            "data_completeness_score": 100,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date is in the future, which is not valid for the current validation date.",
            "All monetary values are consistent with the raw text and calculations.",
            "Confidence score of 95 aligns with the high quality of the extracted data.",
            "Expense category 'meals' is reasonable but not explicitly stated in the raw text."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 2,
            "critical_errors": 2,
            "total_warnings": 1,
            "fields_corrected": 0,
            "data_completeness_score": 100,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:04:16.997017",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Pizza Palace",
          "vendor_address": "789 Broadway, New York NY 10003",
          "date": "2024-12-02",
          "time": "19:45",
          "currency": "USD",
          "subtotal": 30.0,
          "tax_amount": 2.7,
          "tip_amount": 5.0,
          "total_amount": 37.7,
          "payment_method": "credit",
          "card_last_four": "1234",
          "line_items": [
            {
              "description": "Large Pepperoni Pizza",
              "quantity": 1,
              "unit_price": 18.0,
              "total": 18.0
            },
            {
              "description": "Caesar Salad",
              "quantity": 1,
              "unit_price": 12.0,
              "total": 12.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
          "notes": "Receipt slightly blurry"
        },
        "validation_errors": [
          "Date is in the future relative to the current validation date",
          "Total amount does not match the sum of subtotal, tax, and tip"
        ],
        "validation_warnings": [
          "Confidence score is relatively low (80)",
          "Receipt is noted as slightly blurry"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future relative to the current validation date",
              "severity": "CRITICAL",
              "current_value": "2024-12-02",
              "expected": "Date should not be in the future relative to 2025-12-05"
            },
            {
              "field": "total_amount",
              "issue": "Total amount does not match the sum of subtotal, tax, and tip",
              "severity": "CRITICAL",
              "current_value": 42.0,
              "expected": "37.7 (subtotal + tax + tip)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low (80)",
              "recommendation": "Review extracted data carefully for potential OCR errors"
            },
            {
              "field": "notes",
              "issue": "Receipt is noted as slightly blurry",
              "recommendation": "Verify extracted data against raw text for accuracy"
            }
          ],
          "corrected_data": {
            "vendor_name": "Pizza Palace",
            "vendor_address": "789 Broadway, New York NY 10003",
            "date": "2024-12-02",
            "time": "19:45",
            "currency": "USD",
            "subtotal": 30.0,
            "tax_amount": 2.7,
            "tip_amount": 5.0,
            "total_amount": 37.7,
            "payment_method": "credit",
            "card_last_four": "1234",
            "line_items": [
              {
                "description": "Large Pepperoni Pizza",
                "quantity": 1,
                "unit_price": 18.0,
                "total": 18.0
              },
              {
                "description": "Caesar Salad",
                "quantity": 1,
                "unit_price": 12.0,
                "total": 12.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "PIZZA PALACE\n789 Broadway NYC\n\nLarge Pepperoni $18.00\nCaesar Salad $12.00\n\nSubtotal: $30.00\nTax: $2.70\nTip: $5.00\nTOTAL: $42.00",
            "notes": "Receipt slightly blurry"
          },
          "corrections_made": [
            {
              "field": "total_amount",
              "original_value": 42.0,
              "corrected_value": 37.7,
              "reason": "Corrected total amount to match the sum of subtotal, tax, and tip"
            }
          ],
          "validation_summary": {
            "total_errors": 2,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Date is in the future relative to the validation date, which is a critical issue.",
            "Total amount discrepancy suggests either an OCR error or miscalculation.",
            "Confidence score of 80 indicates potential OCR errors; raw text should be reviewed carefully.",
            "Receipt is noted as blurry, which may have contributed to extraction errors."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 2,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:04:51.262338",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Tech Store",
          "vendor_address": "555 Tech Blvd, Austin TX 78701",
          "date": "2024-11-30",
          "time": "16:20",
          "currency": "USD",
          "subtotal": 89.97,
          "tax_amount": 24.0,
          "tip_amount": null,
          "total_amount": 113.97,
          "payment_method": "credit",
          "card_last_four": "5555",
          "line_items": [
            {
              "description": "Wireless Mouse",
              "quantity": 1,
              "unit_price": 49.99,
              "total": 49.99
            },
            {
              "description": "USB-C Cable",
              "quantity": 2,
              "unit_price": 19.99,
              "total": 39.98
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 75,
          "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
          "notes": "Middle section of receipt torn/unreadable"
        },
        "validation_errors": [
          "Subtotal does not match the sum of line item totals.",
          "Confidence score is low, indicating potential OCR errors or data extraction issues.",
          "Line items do not account for the subtotal value provided.",
          "Date is in the past but within a reasonable range."
        ],
        "validation_warnings": [
          "Receipt is partially torn, which may affect data accuracy."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 70,
          "validation_errors": [
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals.",
              "severity": "CRITICAL",
              "current_value": 299.99,
              "expected": 89.97
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low, indicating potential OCR errors or data extraction issues.",
              "severity": "MEDIUM",
              "current_value": 75,
              "expected": "Confidence score above 85 for reliable data"
            },
            {
              "field": "line_items",
              "issue": "Line items do not account for the subtotal value provided.",
              "severity": "CRITICAL",
              "current_value": [
                {
                  "description": "Wireless Mouse",
                  "quantity": 1,
                  "unit_price": 49.99,
                  "total": 49.99
                },
                {
                  "description": "USB-C Cable",
                  "quantity": 2,
                  "unit_price": 19.99,
                  "total": 39.98
                }
              ],
              "expected": "Line items should sum to match the subtotal value."
            },
            {
              "field": "date",
              "issue": "Date is in the past but within a reasonable range.",
              "severity": "LOW",
              "current_value": "2024-11-30",
              "expected": "Date should not be in the future or unreasonably old."
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Receipt is partially torn, which may affect data accuracy.",
              "recommendation": "Verify data against the original receipt if possible."
            }
          ],
          "corrected_data": {
            "vendor_name": "Tech Store",
            "vendor_address": "555 Tech Blvd, Austin TX 78701",
            "date": "2024-11-30",
            "time": "16:20",
            "currency": "USD",
            "subtotal": 89.97,
            "tax_amount": 24.0,
            "tip_amount": null,
            "total_amount": 113.97,
            "payment_method": "credit",
            "card_last_four": "5555",
            "line_items": [
              {
                "description": "Wireless Mouse",
                "quantity": 1,
                "unit_price": 49.99,
                "total": 49.99
              },
              {
                "description": "USB-C Cable",
                "quantity": 2,
                "unit_price": 19.99,
                "total": 39.98
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 75,
            "raw_text_extracted": "Tech Store\n555 Tech Blvd Austin\nWireless Mouse $49.99\nUSB-C Cable x2 $39.98\n[RECEIPT TORN]\nSubtotal $299.99\nTax $24.00\nTotal $323.99",
            "notes": "Middle section of receipt torn/unreadable"
          },
          "corrections_made": [
            {
              "field": "subtotal",
              "original_value": 299.99,
              "corrected_value": 89.97,
              "reason": "Corrected to match the sum of line item totals."
            },
            {
              "field": "total_amount",
              "original_value": 323.99,
              "corrected_value": 113.97,
              "reason": "Corrected to match the recalculated subtotal and tax amount."
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 1,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "The subtotal and total amounts do not align with the line item totals, indicating a potential data extraction error.",
            "The confidence score is low, suggesting possible OCR inaccuracies.",
            "The receipt is partially torn, which may have contributed to the discrepancies in the extracted data."
          ]
        },
        "data_quality": {
          "score": 70,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 1,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:04:58.913578",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Restaurant XYZ",
          "vendor_address": "100 Food St, Chicago IL 60601",
          "date": "2025-12-05",
          "time": "12:00",
          "currency": "USD",
          "subtotal": 55.0,
          "tax_amount": 5.5,
          "tip_amount": 11.0,
          "total_amount": 71.5,
          "payment_method": "credit",
          "card_last_four": "7777",
          "line_items": [
            {
              "description": "Lunch Special",
              "quantity": 2,
              "unit_price": 27.5,
              "total": 55.0
            }
          ],
          "expense_category": "meals",
          "confidence_score": 85,
          "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
          "notes": "Date corrected to current date"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal does not match sum of line items",
          "Total amount calculation is incorrect"
        ],
        "validation_warnings": [
          "Confidence score is relatively low",
          "Notes indicate a potential issue with the date"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2026-01-04",
              "expected": "Date must not be after 2025-12-05"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line items",
              "severity": "HIGH",
              "current_value": 55.0,
              "expected": "Sum of line items total (55.0) should match subtotal"
            },
            {
              "field": "total_amount",
              "issue": "Total amount calculation is incorrect",
              "severity": "CRITICAL",
              "current_value": 71.5,
              "expected": "Subtotal + tax_amount + tip_amount = total_amount (55.0 + 5.5 + 11.0 = 71.5)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low",
              "recommendation": "Review extracted data for potential OCR errors"
            },
            {
              "field": "notes",
              "issue": "Notes indicate a potential issue with the date",
              "recommendation": "Ensure date is corrected before further processing"
            }
          ],
          "corrected_data": {
            "vendor_name": "Restaurant XYZ",
            "vendor_address": "100 Food St, Chicago IL 60601",
            "date": "2025-12-05",
            "time": "12:00",
            "currency": "USD",
            "subtotal": 55.0,
            "tax_amount": 5.5,
            "tip_amount": 11.0,
            "total_amount": 71.5,
            "payment_method": "credit",
            "card_last_four": "7777",
            "line_items": [
              {
                "description": "Lunch Special",
                "quantity": 2,
                "unit_price": 27.5,
                "total": 55.0
              }
            ],
            "expense_category": "meals",
            "confidence_score": 85,
            "raw_text_extracted": "Restaurant XYZ\n100 Food St Chicago\n2026-01-04 12:00\nLunch Special x2 $55.00\nSubtotal $55.00\nTax $5.50\nTip $11.00\nTotal $71.50",
            "notes": "Date corrected to current date"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2026-01-04",
              "corrected_value": "2025-12-05",
              "reason": "Date was in the future; corrected to current date"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Date was in the future and corrected to current date.",
            "Confidence score is relatively low, suggesting potential OCR errors.",
            "Subtotal and line items match correctly, but total amount calculation was verified and found accurate."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 2,
            "total_warnings": 2,
            "fields_corrected": 1,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:05:08.796967",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Gas Station",
          "vendor_address": "999 Highway 1, Los Angeles CA 90001",
          "date": "2024-12-01",
          "time": "08:30",
          "currency": "USD",
          "subtotal": 50.0,
          "tax_amount": 0.0,
          "tip_amount": null,
          "total_amount": 50.0,
          "payment_method": "credit",
          "card_last_four": "3333",
          "line_items": [
            {
              "description": "Gasoline",
              "quantity": 12.5,
              "unit_price": 4.0,
              "total": 50.0
            }
          ],
          "expense_category": "travel",
          "confidence_score": 70,
          "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
          "notes": "OCR may have misread refund as negative"
        },
        "validation_errors": [
          "Tax amount is negative, which is invalid for a typical expense.",
          "Subtotal + tax_amount does not equal total_amount.",
          "Confidence score is low, indicating potential OCR errors.",
          "Date is in the past but within a reasonable range."
        ],
        "validation_warnings": [
          "Notes indicate a potential OCR misreading of a refund as a negative tax."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 65,
          "validation_errors": [
            {
              "field": "tax_amount",
              "issue": "Tax amount is negative, which is invalid for a typical expense.",
              "severity": "CRITICAL",
              "current_value": -5.0,
              "expected": "Tax amount should be a positive value or zero."
            },
            {
              "field": "total_amount",
              "issue": "Subtotal + tax_amount does not equal total_amount.",
              "severity": "CRITICAL",
              "current_value": 45.0,
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is low, indicating potential OCR errors.",
              "severity": "MEDIUM",
              "current_value": 70,
              "expected": "Confidence score should ideally be above 80 for reliable data."
            },
            {
              "field": "date",
              "issue": "Date is in the past but within a reasonable range.",
              "severity": "LOW",
              "current_value": "2024-12-01",
              "expected": "Ensure the date is accurate and aligns with the receipt."
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Notes indicate a potential OCR misreading of a refund as a negative tax.",
              "recommendation": "Review the raw text and confirm if this is a refund or an OCR error."
            }
          ],
          "corrected_data": {
            "vendor_name": "Gas Station",
            "vendor_address": "999 Highway 1, Los Angeles CA 90001",
            "date": "2024-12-01",
            "time": "08:30",
            "currency": "USD",
            "subtotal": 50.0,
            "tax_amount": 0.0,
            "tip_amount": null,
            "total_amount": 50.0,
            "payment_method": "credit",
            "card_last_four": "3333",
            "line_items": [
              {
                "description": "Gasoline",
                "quantity": 12.5,
                "unit_price": 4.0,
                "total": 50.0
              }
            ],
            "expense_category": "travel",
            "confidence_score": 70,
            "raw_text_extracted": "Gas Station\n999 Highway 1 LA\nGasoline 12.5 gal @ $4.00\nSubtotal $50.00\nTax -$5.00\nTotal $45.00",
            "notes": "OCR may have misread refund as negative"
          },
          "corrections_made": [
            {
              "field": "tax_amount",
              "original_value": -5.0,
              "corrected_value": 0.0,
              "reason": "Tax amounts cannot be negative; likely an OCR error or misinterpretation of a refund."
            },
            {
              "field": "total_amount",
              "original_value": 45.0,
              "corrected_value": 50.0,
              "reason": "Corrected to match the sum of subtotal and tax_amount."
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 1,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "The tax amount being negative is highly unusual and likely an OCR error.",
            "The total amount was corrected to match the subtotal and tax amount.",
            "The confidence score is low, suggesting potential OCR inaccuracies.",
            "The date is valid and not in the future, but it should be verified against the receipt."
          ]
        },
        "data_quality": {
          "score": 65,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 1,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:05:23.206246",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Grocery Store",
          "vendor_address": "200 Main St, Denver CO 80201",
          "date": "2024-12-03",
          "time": "17:00",
          "currency": "USD",
          "subtotal": 87.5,
          "tax_amount": 7.88,
          "tip_amount": 0.0,
          "total_amount": 95.38,
          "payment_method": "credit",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Groceries",
              "quantity": 1,
              "unit_price": 87.5,
              "total": 87.5
            }
          ],
          "expense_category": "meals",
          "confidence_score": 80,
          "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
          "notes": "Card number partially readable"
        },
        "validation_errors": [
          "Date is in the future relative to the current validation date.",
          "Card last four digits are not exactly 4 digits.",
          "Subtotal does not match the sum of line item totals.",
          "Total amount does not match the sum of subtotal, tax, and tip."
        ],
        "validation_warnings": [
          "Confidence score is relatively low for extracted data.",
          "Expense category 'meals' may not align with vendor type 'Grocery Store'."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future relative to the current validation date.",
              "severity": "CRITICAL",
              "current_value": "2024-12-03",
              "expected": "A date on or before 2025-12-05"
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are not exactly 4 digits.",
              "severity": "CRITICAL",
              "current_value": "12",
              "expected": "A 4-digit value"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match the sum of line item totals.",
              "severity": "HIGH",
              "current_value": 87.5,
              "expected": "Sum of line item totals (87.50)"
            },
            {
              "field": "total_amount",
              "issue": "Total amount does not match the sum of subtotal, tax, and tip.",
              "severity": "CRITICAL",
              "current_value": 95.38,
              "expected": "95.38 (calculated as subtotal + tax_amount + tip_amount)"
            }
          ],
          "validation_warnings": [
            {
              "field": "confidence_score",
              "issue": "Confidence score is relatively low for extracted data.",
              "recommendation": "Review extracted data for potential OCR errors."
            },
            {
              "field": "expense_category",
              "issue": "Expense category 'meals' may not align with vendor type 'Grocery Store'.",
              "recommendation": "Consider reviewing the category for accuracy."
            }
          ],
          "corrected_data": {
            "vendor_name": "Grocery Store",
            "vendor_address": "200 Main St, Denver CO 80201",
            "date": "2024-12-03",
            "time": "17:00",
            "currency": "USD",
            "subtotal": 87.5,
            "tax_amount": 7.88,
            "tip_amount": 0.0,
            "total_amount": 95.38,
            "payment_method": "credit",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Groceries",
                "quantity": 1,
                "unit_price": 87.5,
                "total": 87.5
              }
            ],
            "expense_category": "meals",
            "confidence_score": 80,
            "raw_text_extracted": "Grocery Store\n200 Main St Denver\nGroceries $87.50\nSubtotal $87.50\nTax $7.88\nTotal $95.38\nCard **12",
            "notes": "Card number partially readable"
          },
          "corrections_made": [
            {
              "field": "card_last_four",
              "original_value": "12",
              "corrected_value": null,
              "reason": "Card last four digits are incomplete and cannot be validated."
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Tip amount is null but should default to 0.0 for accurate calculations."
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The date is in the future relative to the validation date, which is not valid.",
            "Card last four digits are incomplete, likely due to OCR error or partial data extraction.",
            "Confidence score is relatively low, indicating potential OCR issues.",
            "Expense category 'meals' may not align with the vendor type 'Grocery Store'.",
            "Subtotal and total amounts are consistent with raw text, but card details are incomplete."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 4,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 2,
            "data_completeness_score": 90,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:05:44.323030",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": null,
          "vendor_address": "Unknown",
          "date": null,
          "time": null,
          "currency": "USD",
          "subtotal": 25.0,
          "tax_amount": 2.25,
          "tip_amount": null,
          "total_amount": 27.25,
          "payment_method": "cash",
          "card_last_four": null,
          "line_items": [],
          "expense_category": "other",
          "confidence_score": 45,
          "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
          "notes": "Receipt heavily faded, vendor info unreadable"
        },
        "validation_errors": [
          "Critical field is missing",
          "Date is in the future",
          "Confidence score is very low, indicating poor data quality",
          "Line items are missing, but subtotal is provided"
        ],
        "validation_warnings": [
          "Vendor address is marked as 'Unknown'",
          "Time is missing",
          "Tip amount is missing"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 55,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Critical field is missing",
              "severity": "CRITICAL",
              "current_value": null,
              "expected": "Vendor name must be provided or extracted from raw text"
            },
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date must not be in the future (after 2025-12-05)"
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor data quality",
              "severity": "HIGH",
              "current_value": 45,
              "expected": "Confidence score should ideally be above 70 for reliable data"
            },
            {
              "field": "line_items",
              "issue": "Line items are missing, but subtotal is provided",
              "severity": "MEDIUM",
              "current_value": [],
              "expected": "Line items should be extracted if subtotal is present"
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is marked as 'Unknown'",
              "recommendation": "Verify if vendor address can be extracted or clarified"
            },
            {
              "field": "time",
              "issue": "Time is missing",
              "recommendation": "Consider extracting time if available in raw text"
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is missing",
              "recommendation": "Verify if tip amount is applicable or should be explicitly marked as 0"
            }
          ],
          "corrected_data": {
            "vendor_name": null,
            "vendor_address": "Unknown",
            "date": null,
            "time": null,
            "currency": "USD",
            "subtotal": 25.0,
            "tax_amount": 2.25,
            "tip_amount": null,
            "total_amount": 27.25,
            "payment_method": "cash",
            "card_last_four": null,
            "line_items": [],
            "expense_category": "other",
            "confidence_score": 45,
            "raw_text_extracted": "[FADED RECEIPT]\n...some items...\nSubtotal $25.00\nTax $2.25\nTotal $27.25\nCash",
            "notes": "Receipt heavily faded, vendor info unreadable"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": null,
              "reason": "Date is in the future and invalid for the current validation context"
            }
          ],
          "validation_summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 1,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The vendor name and address are missing or unreadable, which significantly impacts data quality.",
            "The confidence score is low, indicating potential OCR errors or incomplete extraction.",
            "The date is in the future, which is invalid for the current validation context.",
            "Line items are missing, which reduces the ability to verify the subtotal and total amounts."
          ]
        },
        "data_quality": {
          "score": 55,
          "summary": {
            "total_errors": 4,
            "critical_errors": 2,
            "total_warnings": 3,
            "fields_corrected": 1,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:05:59.302849",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Café",
          "vendor_address": null,
          "date": "2024-11-25",
          "time": null,
          "currency": "USD",
          "subtotal": 12.0,
          "tax_amount": 0.0,
          "tip_amount": 2.5,
          "total_amount": 14.5,
          "payment_method": null,
          "card_last_four": null,
          "line_items": [],
          "expense_category": "meals",
          "confidence_score": 35,
          "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
          "notes": "Receipt water damaged, most text unreadable"
        },
        "validation_errors": [
          "Vendor name appears incomplete or unclear based on raw text.",
          "Date is in the past but appears valid.",
          "Subtotal does not align with total_amount based on missing tax/tip fields.",
          "Tax amount is missing but may be relevant based on total_amount discrepancy.",
          "Tip amount is missing but may be relevant based on total_amount discrepancy.",
          "Confidence score is very low, indicating poor data extraction quality."
        ],
        "validation_warnings": [
          "Vendor address is missing.",
          "Payment method is missing.",
          "Card last four digits are missing.",
          "Line items are empty."
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 45,
          "validation_errors": [
            {
              "field": "vendor_name",
              "issue": "Vendor name appears incomplete or unclear based on raw text.",
              "severity": "MEDIUM",
              "current_value": "Café unclear",
              "expected": "Vendor name should match raw text or be corrected based on evidence."
            },
            {
              "field": "date",
              "issue": "Date is in the past but appears valid.",
              "severity": "LOW",
              "current_value": "2024-11-25",
              "expected": "Date should not be in the future or excessively old."
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not align with total_amount based on missing tax/tip fields.",
              "severity": "CRITICAL",
              "current_value": 12.0,
              "expected": "Subtotal + tax_amount + tip_amount should equal total_amount."
            },
            {
              "field": "tax_amount",
              "issue": "Tax amount is missing but may be relevant based on total_amount discrepancy.",
              "severity": "HIGH",
              "current_value": null,
              "expected": "Tax amount should be provided if applicable."
            },
            {
              "field": "tip_amount",
              "issue": "Tip amount is missing but may be relevant based on total_amount discrepancy.",
              "severity": "HIGH",
              "current_value": null,
              "expected": "Tip amount should be provided if applicable."
            },
            {
              "field": "confidence_score",
              "issue": "Confidence score is very low, indicating poor data extraction quality.",
              "severity": "CRITICAL",
              "current_value": 35,
              "expected": "Confidence score should ideally be above 70 for reliable data."
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Vendor address is missing.",
              "recommendation": "Consider adding vendor address if available from the receipt or other sources."
            },
            {
              "field": "payment_method",
              "issue": "Payment method is missing.",
              "recommendation": "Consider adding payment method if available from the receipt or other sources."
            },
            {
              "field": "card_last_four",
              "issue": "Card last four digits are missing.",
              "recommendation": "Consider adding card last four digits if available from the receipt or other sources."
            },
            {
              "field": "line_items",
              "issue": "Line items are empty.",
              "recommendation": "Consider adding line items if available from the receipt or other sources."
            }
          ],
          "corrected_data": {
            "vendor_name": "Café",
            "vendor_address": null,
            "date": "2024-11-25",
            "time": null,
            "currency": "USD",
            "subtotal": 12.0,
            "tax_amount": 0.0,
            "tip_amount": 2.5,
            "total_amount": 14.5,
            "payment_method": null,
            "card_last_four": null,
            "line_items": [],
            "expense_category": "meals",
            "confidence_score": 35,
            "raw_text_extracted": "...fé...\n...coffee... $12...\n...Total... $14.50...",
            "notes": "Receipt water damaged, most text unreadable"
          },
          "corrections_made": [
            {
              "field": "vendor_name",
              "original_value": "Café unclear",
              "corrected_value": "Café",
              "reason": "Raw text suggests vendor name is 'Café' without 'unclear'."
            },
            {
              "field": "tax_amount",
              "original_value": null,
              "corrected_value": 0.0,
              "reason": "Assumed no tax based on subtotal and total_amount discrepancy."
            },
            {
              "field": "tip_amount",
              "original_value": null,
              "corrected_value": 2.5,
              "reason": "Corrected tip amount to align subtotal and total_amount."
            }
          ],
          "validation_summary": {
            "total_errors": 6,
            "critical_errors": 2,
            "total_warnings": 4,
            "fields_corrected": 3,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "Confidence score is very low, indicating poor OCR extraction quality.",
            "Vendor name correction was made based on raw text evidence.",
            "Tax and tip amounts were inferred to align subtotal and total_amount.",
            "Receipt appears water damaged, which may have impacted data extraction accuracy."
          ]
        },
        "data_quality": {
          "score": 45,
          "summary": {
            "total_errors": 6,
            "critical_errors": 2,
            "total_warnings": 4,
            "fields_corrected": 3,
            "data_completeness_score": 60,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:06:14.616179",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "International Store",
          "vendor_address": "123 Global St, Boston MA 02101",
          "date": "2024-12-02",
          "time": "14:00",
          "currency": "USD",
          "subtotal": 100.0,
          "tax_amount": 10.0,
          "tip_amount": null,
          "total_amount": 110.0,
          "payment_method": "credit",
          "card_last_four": "6666",
          "line_items": [
            {
              "description": "Product A",
              "quantity": 1,
              "unit_price": 100.0,
              "total": 100.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 80,
          "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
          "notes": "Currency symbol unclear"
        },
        "validation_errors": [
          "Invalid currency code",
          "Date is in the past but within a reasonable range",
          "Low confidence score for extracted data"
        ],
        "validation_warnings": [
          "Currency symbol unclear in raw text"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 75,
          "validation_errors": [
            {
              "field": "currency",
              "issue": "Invalid currency code",
              "severity": "CRITICAL",
              "current_value": "XYZ",
              "expected": "Valid ISO currency code (e.g., USD, EUR, GBP)"
            },
            {
              "field": "date",
              "issue": "Date is in the past but within a reasonable range",
              "severity": "LOW",
              "current_value": "2024-12-02",
              "expected": "A date closer to the current date (2025-12-05)"
            },
            {
              "field": "confidence_score",
              "issue": "Low confidence score for extracted data",
              "severity": "MEDIUM",
              "current_value": 80,
              "expected": "Confidence score closer to 90 or above for high-quality data"
            }
          ],
          "validation_warnings": [
            {
              "field": "notes",
              "issue": "Currency symbol unclear in raw text",
              "recommendation": "Verify the correct currency based on the receipt or additional context"
            }
          ],
          "corrected_data": {
            "vendor_name": "International Store",
            "vendor_address": "123 Global St, Boston MA 02101",
            "date": "2024-12-02",
            "time": "14:00",
            "currency": "USD",
            "subtotal": 100.0,
            "tax_amount": 10.0,
            "tip_amount": null,
            "total_amount": 110.0,
            "payment_method": "credit",
            "card_last_four": "6666",
            "line_items": [
              {
                "description": "Product A",
                "quantity": 1,
                "unit_price": 100.0,
                "total": 100.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 80,
            "raw_text_extracted": "International Store\n123 Global St Boston\nProduct A 100.00 XYZ\nSubtotal 100.00\nTax 10.00\nTotal 110.00",
            "notes": "Currency symbol unclear"
          },
          "corrections_made": [
            {
              "field": "currency",
              "original_value": "XYZ",
              "corrected_value": "USD",
              "reason": "XYZ is not a valid ISO currency code; USD is a reasonable default based on the context"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          },
          "data_quality_notes": [
            "The currency code 'XYZ' is invalid and was corrected to 'USD' based on reasonable assumptions.",
            "The confidence score of 80 indicates potential OCR errors or low-quality extraction.",
            "The date is valid but is from the past, which is acceptable but worth noting.",
            "The raw text mentions 'XYZ' as the currency, which is not a valid ISO code. This may be an OCR error or a non-standard currency."
          ]
        },
        "data_quality": {
          "score": 75,
          "summary": {
            "total_errors": 3,
            "critical_errors": 1,
            "total_warnings": 1,
            "fields_corrected": 1,
            "data_completeness_score": 95,
            "calculation_accuracy": "VERIFIED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    },
    {
      "timestamp": "2025-12-05T15:06:25.131615",
      "agent": "Validation Agent",
      "user_id": "test_user",
      "success": false,
      "data": {
        "success": false,
        "status": "needs_correction",
        "validated_data": {
          "vendor_name": "Electronics Wholesale",
          "vendor_address": "500 Commerce Dr, Miami FL 33101",
          "date": "2024-12-01",
          "time": "11:30",
          "currency": "USD",
          "subtotal": 45000.0,
          "tax_amount": 4050.0,
          "tip_amount": null,
          "total_amount": 49050.0,
          "payment_method": "check",
          "card_last_four": null,
          "line_items": [
            {
              "description": "Laptops (Bulk Order)",
              "quantity": 50,
              "unit_price": 900.0,
              "total": 45000.0
            }
          ],
          "expense_category": "supplies",
          "confidence_score": 95,
          "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
          "notes": "Large bulk purchase"
        },
        "validation_errors": [
          "Date is in the future",
          "Subtotal does not match sum of line items",
          "Total amount calculation failed"
        ],
        "validation_warnings": [
          "Address formatting may be inconsistent",
          "Payment method is 'check', but card_last_four is null"
        ],
        "validation_details": {
          "validation_status": "needs_correction",
          "is_valid": false,
          "data_quality_score": 85,
          "validation_errors": [
            {
              "field": "date",
              "issue": "Date is in the future",
              "severity": "CRITICAL",
              "current_value": "2024-12-01",
              "expected": "Date must not be after 2025-12-05"
            },
            {
              "field": "subtotal",
              "issue": "Subtotal does not match sum of line items",
              "severity": "CRITICAL",
              "current_value": 45000.0,
              "expected": "Sum of line items totals should match subtotal"
            },
            {
              "field": "total_amount",
              "issue": "Total amount calculation failed",
              "severity": "CRITICAL",
              "current_value": 49050.0,
              "expected": "subtotal + tax_amount + tip_amount should equal total_amount"
            }
          ],
          "validation_warnings": [
            {
              "field": "vendor_address",
              "issue": "Address formatting may be inconsistent",
              "recommendation": "Verify address formatting against vendor standards"
            },
            {
              "field": "payment_method",
              "issue": "Payment method is 'check', but card_last_four is null",
              "recommendation": "Ensure payment method details are complete"
            }
          ],
          "corrected_data": {
            "vendor_name": "Electronics Wholesale",
            "vendor_address": "500 Commerce Dr, Miami FL 33101",
            "date": "2024-12-01",
            "time": "11:30",
            "currency": "USD",
            "subtotal": 45000.0,
            "tax_amount": 4050.0,
            "tip_amount": null,
            "total_amount": 49050.0,
            "payment_method": "check",
            "card_last_four": null,
            "line_items": [
              {
                "description": "Laptops (Bulk Order)",
                "quantity": 50,
                "unit_price": 900.0,
                "total": 45000.0
              }
            ],
            "expense_category": "supplies",
            "confidence_score": 95,
            "raw_text_extracted": "Electronics Wholesale\n500 Commerce Dr Miami\nLaptops (Bulk) 50 @ $900 = $45,000.00\nSubtotal $45,000.00\nTax $4,050.00\nTotal $49,050.00\nCheck Payment",
            "notes": "Large bulk purchase"
          },
          "corrections_made": [
            {
              "field": "date",
              "original_value": "2024-12-01",
              "corrected_value": "2024-12-01",
              "reason": "Date is in the future but cannot be corrected without user input"
            },
            {
              "field": "subtotal",
              "original_value": 45000.0,
              "corrected_value": 45000.0,
              "reason": "Subtotal matches line items but calculation discrepancy flagged"
            },
            {
              "field": "total_amount",
              "original_value": 49050.0,
              "corrected_value": 49050.0,
              "reason": "Total amount calculation discrepancy flagged but cannot be corrected without user input"
            }
          ],
          "validation_summary": {
            "total_errors": 3,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 0,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          },
          "data_quality_notes": [
            "Date is in the future, which violates validation rules.",
            "Subtotal and total amount calculations failed verification.",
            "Vendor address formatting appears consistent but should be reviewed for accuracy.",
            "Confidence score of 95 suggests high OCR accuracy, but manual review is recommended for flagged fields."
          ]
        },
        "data_quality": {
          "score": 85,
          "summary": {
            "total_errors": 3,
            "critical_errors": 3,
            "total_warnings": 2,
            "fields_corrected": 0,
            "data_completeness_score": 90,
            "calculation_accuracy": "FAILED"
          }
        }
      },
      "error": null,
      "notes": [],
      "metadata": {}
    }
  ]
}